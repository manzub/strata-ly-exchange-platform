(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-027e72a6"],{2532:function(t,a,e){"use strict";var s=e("23e7"),n=e("5a34"),i=e("1d80"),c=e("ab13");s({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~String(i(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},"2d2c":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a",{staticClass:"item",attrs:{"data-toggle":"modal","data-target":t.targetProp},on:{click:t.select}},[e("div",{staticClass:"detail"},[e("img",{staticClass:"imaged image-block w48",attrs:{src:"assets/img/logo-icon.png",alt:""}}),e("div",[e("h3",{staticClass:"m-0"},[t._v(t._s(t.coin.name))]),e("div",{staticClass:"price text-muted",staticStyle:{"font-size":"10px","font-weight":"900"}},[t._v("1 "+t._s(t.coin.name)+" -> $"+t._s(t.rate))])])])])},n=[],i=(e("365c"),{name:"coinItem",props:["coin","target"],computed:{targetProp:function(){return this.target?this.target:"#exchangeActionSheet"},rate:function(){return this.coin.rate?this.coin.rate:this.coin.value}},methods:{select:function(){this.$emit("selectCoin",this.coin)}}}),c=i,o=e("2877"),r=Object(o["a"])(c,s,n,!1,null,"6a4b6c47",null);a["a"]=r.exports},"5a34":function(t,a,e){var s=e("44e7");t.exports=function(t){if(s(t))throw TypeError("The method doesn't accept regular expressions");return t}},"61d0":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Header"),e("div",{attrs:{id:"appCapsule"}},[e("div",{staticClass:"section full bg-primary"},[e("div",{staticClass:"container text-center p-3"},[e("ion-icon",{staticClass:"text-muted md hydrated",staticStyle:{"font-size":"10vh"},attrs:{role:"img",name:"swap-horizontal"}})],1)]),e("div",{staticClass:"section mt-3"},[t._m(0),e("div",{staticClass:"transactions"},t._l(t.coins,(function(a,s){return e("coin-item",{key:s,attrs:{coin:a},on:{selectCoin:t.selectCoin}})})),1)]),e("exchange-action-sheet",{attrs:{swap:t.swap}})],1),e("app-bottom-menu")],1)},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"section-heading"},[e("h3",{staticClass:"title"},[t._v("All Coins")])])}],i=e("5530"),c=(e("159b"),e("b0c0"),e("2f62")),o=e("365c"),r=e.n(o),l=e("561f"),u=e("2d2c"),d=e("d727"),m=e("0418"),p={data:function(){return{swap:null,coins:[]}},components:{AppBottomMenu:l["a"],Header:m["a"],CoinItem:u["a"],ExchangeActionSheet:d["a"]},name:"Swap",computed:Object(c["c"])(["auth"]),methods:{selectCoin:function(t){this.swap=t}},created:function(){var t=this;r.a.fetchAllCoins().then((function(a){var e=[];a.forEach((function(a){r.a.coinBalance(a.name,t.auth.info).then((function(t){var s=t.balance?t.balance:t.btcBalance,n=Object(i["a"])(Object(i["a"])({},a),{},{usdBalance:t.usdBalance,balance:s,address:t.address});e.push(n)}))})),t.coins=e}))}},h=p,v=(e("7143"),e("2877")),f=Object(v["a"])(h,s,n,!1,null,"334de98b",null);a["default"]=f.exports},"63fb":function(t,a,e){},7143:function(t,a,e){"use strict";e("63fb")},ab13:function(t,a,e){var s=e("b622"),n=s("match");t.exports=function(t){var a=/./;try{"/./"[t](a)}catch(e){try{return a[n]=!1,"/./"[t](a)}catch(s){}}return!1}},d727:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade action-sheet",staticStyle:{display:"none"},attrs:{id:"exchangeActionSheet",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(0),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"action-sheet-content"},[e("form",{on:{submit:function(t){t.preventDefault()}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("div",{staticClass:"form-group basic"},[e("div",{staticClass:"input-wrapper"},[e("label",{staticClass:"label",attrs:{for:"currency1"}},[t._v("From")]),e("select",{staticClass:"form-control custom-select",attrs:{id:"currency1"}},[e("option",{attrs:{value:"1"}},[t._v(t._s(t.swap.name))])])])])]),e("div",{staticClass:"col-6"},[e("div",{staticClass:"form-group basic"},[e("div",{staticClass:"input-wrapper"},[e("label",{staticClass:"label",attrs:{for:"currency2"}},[t._v("To")]),e("select",{staticClass:"form-control custom-select",attrs:{id:"currency2"},on:{change:t.selected}},[e("option",[t._v("Select a coin")]),"BTC"==t.swap.name?e("option",[t._v("STRLY")]):e("option",[t._v("BTC")])])])])])]),e("div",{staticClass:"form-group-basic"},[e("label",{staticClass:"label"},[t._v("Balance:")]),e("strong",[t._v(t._s(t.swap.balance))])]),e("div",{staticClass:"form-group basic"},[e("label",{staticClass:"label"},[t._v("Enter Amount")]),e("div",{staticClass:"input-group mb-0"},[e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text text-muted",attrs:{id:"input1"}},[t._v(t._s(t.swap.name))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticClass:"form-control form-control-lg",attrs:{type:"number"},domProps:{value:t.amount},on:{keyup:t.convert,input:function(a){a.target.composing||(t.amount=a.target.value)}}}),e("div",{staticClass:"input-group-addon"},[e("span",{staticClass:"btn btn-primary",on:{click:t.max}},[t._v("MAX")])])]),"STRLY"==t.swap.name?e("small",[t._v("Minimum 1,000,000 STRLY")]):t._e()]),e("div",{staticClass:"form-group"},[e("p",{staticClass:"text-muted"},[t._v("$"+t._s(t.toUsd))])]),e("div",{staticClass:"form-group basic"},[e("button",{staticClass:"btn btn-primary btn-block btn-lg",attrs:{id:"trade",disabled:t.disabled,type:"button"},on:{click:t.process}},[t._v("Swap")])])])])])])])])},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v("Swap")])])}],i=e("5530"),c=(e("caad"),e("2532"),e("b680"),e("ac1f"),e("1276"),e("7db0"),e("b0c0"),e("a9e3"),e("2f62")),o=e("365c"),r=e.n(o),l={data:function(){return{coins:[],disabled:!0,exchange_amount:0,amount:0,exchange_to:"strataly",exchange_from:"btc",toUsd:0}},name:"ExchangeActionSheet",props:["swap"],computed:Object(i["a"])(Object(i["a"])({},Object(c["c"])(["auth"])),{},{isSwaping:function(){return this.coins.includes(this.swap)}}),methods:{max:function(){var t=this.swap.balance-.002*this.swap.balance;this.amount=t.toFixed(8),this.convert()},convert:function(){var t=this,a=this.amount*this.swap.value;switch(this.toUsd=a.toFixed(2),this.exchange_to){case"strataly":r.a.convertUsdToStrata(a).then((function(a){t.exchange_amount=a}));break;case"btc":if("".concat(this.amount).split(".")[0].length>=7){var e=this.coins.find((function(t){return"BTC"==t.name})).value;Number(e);this.exchange_amount=parseInt(a).toFixed(0)}break}},selected:function(t){this.disabled=!1;var a="STRLY"==t.target.value?"strataly":t.target.value,e="STRLY"==t.target.value?"btc":"strataly";this.exchange_from=e.toLowerCase(),this.exchange_to=a.toLowerCase()},process:function(){this.convert();var t="strataly"==this.exchange_from?this.amount:this.toUsd;r.a.swapCoins(this.auth.info,this.exchange_from,this.exchange_to,t,this.exchange_amount).then((function(t){var a=t.status;if("signed"==a||"pending"==a){var e=new Audio("assets/audio/audio1.mp3");e.play(),document.querySelector("#trade").innerHTML='<ion-icon name="checkmark-circle-outline"></ion-icon>',setTimeout((function(){document.querySelector("#trade").innerHTML="Done"}),1e3)}}))}},created:function(){var t=this;r.a.fetchAllCoins().then((function(a){t.coins=a}))}},u=l,d=e("2877"),m=Object(d["a"])(u,s,n,!1,null,"5dbb0a12",null);a["a"]=m.exports}}]);
//# sourceMappingURL=chunk-027e72a6.2ea12a85.js.map