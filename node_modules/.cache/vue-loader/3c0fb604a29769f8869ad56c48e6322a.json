{"remainingRequest":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Sites/VUE/exchangeapp-version-control/v3/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/src/views/Home.vue","mtime":1625407703135},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhcGkgZnJvbSAnLi4vYXBpJwppbXBvcnQgQXBwQm90dG9tTWVudSBmcm9tICcuLi9jb21wb25lbnRzL0FwcEJvdHRvbU1lbnUudnVlJwppbXBvcnQgSGVhZGVyIGZyb20gJy4uL2NvbXBvbmVudHMvSGVhZGVyLnZ1ZScKaW1wb3J0IGNvaW5JdGVtTGcgZnJvbSAnLi4vY29tcG9uZW50cy9jb2luSXRlbTEudnVlJzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgU3BsYXNoIGZyb20gJy4vU3BsYXNoLnZ1ZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsgcmV0dXJuIHsgY29pbnM6W10sIGNvbWJpbmVkX2JhbGFuY2VzOltdIH0gfSwgCiAgY29tcG9uZW50czogeyBIZWFkZXIsIEFwcEJvdHRvbU1lbnUsIGNvaW5JdGVtTGcsIFNwbGFzaCB9LAogIG5hbWU6ICdIb21lJywKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbJ2F1dGgnLCdpc0xvZ2dlZEluJ10pLAogICAgYWxsQmFsYW5jZXMoKSB7CiAgICAgIGxldCBzdHIgPSAwCiAgICAgIHRoaXMuY29tYmluZWRfYmFsYW5jZXMuZm9yRWFjaChiYWwgPT4geyBzdHIgKz0gTnVtYmVyKGJhbCkgfSkKICAgICAgdmFyIGZvcm1hdHRlciA9IEludGwuTnVtYmVyRm9ybWF0KCdlbi1VUycse2N1cnJlbmN5OidVU0QnfSkKICAgICAgcmV0dXJuIGZvcm1hdHRlci5mb3JtYXQoc3RyKQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2VsZWN0Q29pbihjb2luKSB7CiAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdjb2luJywgSlNPTi5zdHJpbmdpZnkoY29pbikpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2NvaW4nKQogICAgfSwKICAgIGluaXRWYWx1ZXMoKSB7CiAgICAgIGFwaS5mZXRjaEFsbENvaW5zKCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdmFyIGNvbWJpbmVkX2JhbGFuY2VzID0gW10KICAgICAgICByZXNwb25zZS5mb3JFYWNoKGNvaW4gPT4gewogICAgICAgICAgLy8gdmFyIHRoaXNfY29pbiA9IHsuLi5jb2luLHJhdGV9CiAgICAgICAgICBhcGkuY29pbkJhbGFuY2UoY29pbi5uYW1lLCB0aGlzLmF1dGguaW5mbykKICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgbGV0IGJhbGFuY2UgPSByZXNwb25zZS5idGNCYWxhbmNlID8gcmVzcG9uc2UuYnRjQmFsYW5jZSA6IHJlc3BvbnNlLmJhbGFuY2UgfHwgMAogICAgICAgICAgICB2YXIgdG9Vc2QgPSBiYWxhbmNlKmNvaW4udmFsdWU7CiAgICAgICAgICAgIGNvbWJpbmVkX2JhbGFuY2VzLnB1c2godG9Vc2QpCiAgICAgICAgICB9KQogICAgICAgIH0pCiAgICAgICAgdGhpcy5jb2lucyA9IHJlc3BvbnNlOwogICAgICAgIHRoaXMuY29tYmluZWRfYmFsYW5jZXMgPSBjb21iaW5lZF9iYWxhbmNlczsKICAgICAgfSkKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICBpZih0aGlzLmlzTG9nZ2VkSW4pIHsKICAgICAgdGhpcy5pbml0VmFsdWVzKCkKICAgIH1lbHNlIHRoaXMuJHJvdXRlci5yZXBsYWNlKCcvc3BsYXNoJykKICB9Cn0K"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div v-if=\"isLoggedIn\">\n    <Header />\n    <div id=\"appCapsule\">\n      <div class=\"section p-2 bg-primary\">\n        <div class=\"container text-center\">\n          <h1 class=\"text-white mb-0\">${{allBalances}}</h1>\n          <h5 class=\"text-muted\">Combined Balances</h5>\n        </div>\n      </div>\n      <div class=\"section mt-4\">\n        <div class=\"section-heading\">\n          <h2 class=\"title\">Top Coins</h2>\n        </div>\n        <div class=\"transactions mb-2\">\n          <coinItemLg @selectCoin=\"selectCoin\" v-for=\"(coin,index) in coins\" :key=\"index\" :coin=\"coin\" />\n        </div>\n      </div>\n    </div>\n    <app-bottom-menu/>\n  </div>\n  <div v-else ></div>\n</template>\n\n<script>\nimport api from '../api'\nimport AppBottomMenu from '../components/AppBottomMenu.vue'\nimport Header from '../components/Header.vue'\nimport coinItemLg from '../components/coinItem1.vue';\nimport { mapGetters } from 'vuex';\nimport Splash from './Splash.vue';\n\nexport default {\n  data() { return { coins:[], combined_balances:[] } }, \n  components: { Header, AppBottomMenu, coinItemLg, Splash },\n  name: 'Home',\n  computed: {\n    ...mapGetters(['auth','isLoggedIn']),\n    allBalances() {\n      let str = 0\n      this.combined_balances.forEach(bal => { str += Number(bal) })\n      var formatter = Intl.NumberFormat('en-US',{currency:'USD'})\n      return formatter.format(str)\n    }\n  },\n  methods: {\n    selectCoin(coin) {\n      window.sessionStorage.setItem('coin', JSON.stringify(coin));\n      this.$router.push('/coin')\n    },\n    initValues() {\n      api.fetchAllCoins().then(response => {\n        var combined_balances = []\n        response.forEach(coin => {\n          // var this_coin = {...coin,rate}\n          api.coinBalance(coin.name, this.auth.info)\n          .then(response => {\n            let balance = response.btcBalance ? response.btcBalance : response.balance || 0\n            var toUsd = balance*coin.value;\n            combined_balances.push(toUsd)\n          })\n        })\n        this.coins = response;\n        this.combined_balances = combined_balances;\n      })\n    }\n  },\n  created() {\n    if(this.isLoggedIn) {\n      this.initValues()\n    }else this.$router.replace('/splash')\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>"]}]}