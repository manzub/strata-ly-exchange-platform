{"remainingRequest":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Sites/VUE/exchangeapp-version-control/v3/src/views/Coin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/src/views/Coin.vue","mtime":1627507369409},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IGFwaSBmcm9tICcuLi9hcGknOwppbXBvcnQgQXBwQm90dG9tTWVudSBmcm9tICcuLi9jb21wb25lbnRzL0FwcEJvdHRvbU1lbnUudnVlJzsKaW1wb3J0IEV4Y2hhbmdlQWN0aW9uU2hlZXQgZnJvbSAnLi4vY29tcG9uZW50cy9FeGNoYW5nZUFjdGlvblNoZWV0LnZ1ZSc7CmltcG9ydCBIZWFkZXIgZnJvbSAnLi4vY29tcG9uZW50cy9IZWFkZXIudnVlJzsKaW1wb3J0IFJlY2lldmVBY3Rpb25TaGVldCBmcm9tICcuLi9jb21wb25lbnRzL1JlY2lldmVBY3Rpb25TaGVldC52dWUnOwppbXBvcnQgVHJhbnNhY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9UcmFuc2FjdGlvbi52dWUnOwppbXBvcnQgVHJhbnNmZXJBY3Rpb25TaGVldCBmcm9tICcuLi9jb21wb25lbnRzL1RyYW5zZmVyQWN0aW9uU2hlZXQudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsgQXBwQm90dG9tTWVudSwgSGVhZGVyLCBSZWNpZXZlQWN0aW9uU2hlZXQsIFRyYW5zZmVyQWN0aW9uU2hlZXQsIFRyYW5zYWN0aW9uLCBFeGNoYW5nZUFjdGlvblNoZWV0IH0sCiAgZGF0YSgpIHsgcmV0dXJuIHsgY29pbjpudWxsLCB0cmFuc2FjdGlvbnM6W10gfSB9LAogIG5hbWU6J0NvaW4nLAogIGNvbXB1dGVkOm1hcEdldHRlcnMoWydhdXRoJ10pLAogIG1ldGhvZHM6IHsKICAgIGNvcHlUZXh0KCkgewogICAgICB2YXIgdGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNhZGRyZXNzIikKICAgICAgdGV4dC5zZWxlY3QoKQogICAgICB0ZXh0LnNldFNlbGVjdGlvblJhbmdlKDAsIDk5OTk5KQogICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgiY29weSIpCiAgICAgIHZhciBkb25lX2F1ZGlvID0gbmV3IEF1ZGlvKCdhc3NldHMvYXVkaW8vYXVkaW8xLm1wMycpCiAgICAgIGRvbmVfYXVkaW8ucGxheSgpCiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNidG5kb25lIikuaW5uZXJIVE1MID0gYDxpb24taWNvbiBuYW1lPSJjaGVja21hcmstY2lyY2xlLW91dGxpbmUiPjwvaW9uLWljb24+YAogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjYnRuZG9uZSIpLmlubmVySFRNTCA9IGBEb25lYAogICAgICB9LCAxMDAwKTsKICAgIH0sCiAgICBsb2FkQ29pbigpIHsKICAgICAgbGV0IHNlbGVjdGVkID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2NvaW4nKTsKICAgICAgbGV0IGNvaW4gPSBKU09OLnBhcnNlKHNlbGVjdGVkKTsKICAgICAgYXBpLmNvaW5CYWxhbmNlKGNvaW4ubmFtZSwgdGhpcy5hdXRoLmluZm8pCiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBsZXQgYmFsYW5jZSA9IHJlc3BvbnNlLmJhbGFuY2UgPyByZXNwb25zZS5iYWxhbmNlIDogcmVzcG9uc2UuYnRjQmFsYW5jZQogICAgICAgIHZhciB0aGlzX2NvaW4gPSB7Li4uY29pbix1c2RCYWxhbmNlOnJlc3BvbnNlLnVzZEJhbGFuY2UsYmFsYW5jZSxhZGRyZXNzOnJlc3BvbnNlLmFkZHJlc3N9CiAgICAgICAgdGhpcy5jb2luID0gdGhpc19jb2luOwogICAgICAgIHRoaXMubG9hZFRyYW5zYWN0aW9uTG9ncygpOwogICAgICB9KQogICAgfSwKICAgIGxvYWRUcmFuc2FjdGlvbkxvZ3MoKSB7CiAgICAgIGlmKHRoaXMuY29pbi5uYW1lID09ICdTVFJMWScpIHsKICAgICAgICBhcGkuZ2V0VXNlckJhbGFuY2VzKHRoaXMuYXV0aC5pbmZvLndhbGxldEFkZHJlc3MpLnRoZW4ocmVzcG9uc2U9PnsKICAgICAgICAgIHRoaXMudHJhbnNhY3Rpb25zID0gcmVzcG9uc2UuZGF0YS5sb2dzCiAgICAgICAgfSkKICAgICAgICAvLyB0aGlzLnRyYW5zYWN0aW9ucyA9IHRoaXMuYXV0aC5yZWNvcmRzLmxvZ3M7CiAgICAgIH1lbHNlIHsKICAgICAgICBhcGkuZ2V0QnRjVXNlckxvZ3ModGhpcy5hdXRoLmluZm8pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgdGhpcy50cmFuc2FjdGlvbnMgPSByZXNwb25zZQogICAgICAgIH0pCiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgc2VydmVyX3RpbWVvdXRfaW50ID0gMzsKICAgIHZhciBzY3JpcHRfaW50ZXJ2YWxfY291bnQgPSAwOwogICAgbG9hZF92YWx1ZXMoKQoKICAgIGZ1bmN0aW9uIHJlc2V0X2ludGVydmFscygpIHsKICAgICAgY29uc29sZS5sb2coJ2ZkZmQnKTsKICAgICAgc2NyaXB0X2ludGVydmFsX2NvdW50ID0gMDsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgbG9hZF92YWx1ZXMoKQogICAgICB9LCAzMDAwMCk7CiAgICB9CgogICAgZnVuY3Rpb24gbG9hZF92YWx1ZXMoKSB7CiAgICAgIHNlbGYubG9hZENvaW4oKTsKICAgICAgLy8gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAvLyAgIC8vIHNjcmlwdF9pbnRlcnZhbF9jb3VudCArPSAxCiAgICAgIC8vICAgLy8gaWYgKHNjcmlwdF9pbnRlcnZhbF9jb3VudCA8PSBzZXJ2ZXJfdGltZW91dF9pbnQtMSkgewogICAgICAvLyAgICAgc2VsZi5sb2FkQ29pbigpOwogICAgICAvLyAgICAgc2VsZi5sb2FkVHJhbnNhY3Rpb25Mb2dzKCk7CiAgICAgIC8vICAgLy8gfWVsc2UgcmVzZXRfaW50ZXJ2YWxzKCkKICAgICAgLy8gfSwgNTAwMCk7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Coin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Coin.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <Header/>\n    <div id=\"appCapsule\">\n      <div class=\"section full bg-primary p-5\">\n        <div class=\"container text-center\">\n          <img src=\"assets/img/logo-icon.png\" style=\"width:30%\" alt=\"\">\n          <h1 class=\"pt-1 mb-0\">{{coin.balance || 0}} {{ coin.name }}</h1>\n          <h3 class=\"text-muted\">= ${{coin.usdBalance}}</h3>\n\n          <div class=\"section mt-2\">\n            <div class=\"actions\">\n              <div class=\"item\">\n                <a href=\"#\" data-toggle=\"modal\" data-target=\"#sendActionSheet\">\n                  <div class=\"icon-wrapper bg-primary\">\n                      <ion-icon name=\"arrow-up-outline\" role=\"img\" class=\"md hydrated\" aria-label=\"arrow down outline\"></ion-icon>\n                  </div>\n                  <strong>SEND</strong>\n                </a>\n              </div>\n              <div class=\"item\">\n                <a href=\"#\" data-toggle=\"modal\" data-target=\"#withdrawActionSheet\">\n                  <div class=\"icon-wrapper bg-success\">\n                    <ion-icon name=\"arrow-down-outline\" role=\"img\" class=\"md hydrated\" aria-label=\"copy\"></ion-icon>\n                  </div>\n                  <strong>RECIEVE</strong>\n                </a>\n              </div>\n              <div class=\"item\">\n                <a href=\"#\" data-toggle=\"modal\" data-target=\"#exchangeActionSheet\">\n                  <div class=\"icon-wrapper bg-info\">\n                    <ion-icon name=\"swap-horizontal-outline\" role=\"img\" class=\"md hydrated\" aria-label=\"more\"></ion-icon>\n                    <!-- <ion-icon name=\"copy-outline\" role=\"img\" class=\"md hydrated\" aria-label=\"copy\"></ion-icon> -->\n                  </div>\n                  <strong>SWAP/TRADE</strong>\n                  <!-- <strong>COPY</strong> -->\n                </a>\n              </div>\n            </div>\n            <transfer-action-sheet :coin=\"coin\"/>\n            <recieve-action-sheet @copyText=\"copyText\" :coin=\"coin\"/>\n            <exchange-action-sheet :swap=\"coin\" />\n          </div>\n        </div>\n      </div>\n      <div class=\"section mt-3\">\n        <div class=\"section-heading\">\n          <h3 class=\"title\">Transactions</h3>\n        </div>\n        <div class=\"transactions\">\n          <div v-if=\"transactions.length>0\">\n            <transaction v-for=\"(tr,index) in transactions\" :key=\"index\" :coin=\"coin\" :transaction=\"tr\" />\n          </div>\n          <h3 v-else class=\"text-center text-muted p-5\">No Transactions</h3>\n        </div>\n      </div>\n    </div>\n    <app-bottom-menu/>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport api from '../api';\nimport AppBottomMenu from '../components/AppBottomMenu.vue';\nimport ExchangeActionSheet from '../components/ExchangeActionSheet.vue';\nimport Header from '../components/Header.vue';\nimport RecieveActionSheet from '../components/RecieveActionSheet.vue';\nimport Transaction from '../components/Transaction.vue';\nimport TransferActionSheet from '../components/TransferActionSheet.vue';\nexport default {\n  components: { AppBottomMenu, Header, RecieveActionSheet, TransferActionSheet, Transaction, ExchangeActionSheet },\n  data() { return { coin:null, transactions:[] } },\n  name:'Coin',\n  computed:mapGetters(['auth']),\n  methods: {\n    copyText() {\n      var text = document.querySelector(\"#address\")\n      text.select()\n      text.setSelectionRange(0, 99999)\n      document.execCommand(\"copy\")\n      var done_audio = new Audio('assets/audio/audio1.mp3')\n      done_audio.play()\n      document.querySelector(\"#btndone\").innerHTML = `<ion-icon name=\"checkmark-circle-outline\"></ion-icon>`\n      setTimeout(() => {\n        document.querySelector(\"#btndone\").innerHTML = `Done`\n      }, 1000);\n    },\n    loadCoin() {\n      let selected = window.sessionStorage.getItem('coin');\n      let coin = JSON.parse(selected);\n      api.coinBalance(coin.name, this.auth.info)\n      .then(response => {\n        let balance = response.balance ? response.balance : response.btcBalance\n        var this_coin = {...coin,usdBalance:response.usdBalance,balance,address:response.address}\n        this.coin = this_coin;\n        this.loadTransactionLogs();\n      })\n    },\n    loadTransactionLogs() {\n      if(this.coin.name == 'STRLY') {\n        api.getUserBalances(this.auth.info.walletAddress).then(response=>{\n          this.transactions = response.data.logs\n        })\n        // this.transactions = this.auth.records.logs;\n      }else {\n        api.getBtcUserLogs(this.auth.info).then(response => {\n          this.transactions = response\n        })\n      }\n    }\n  },\n  created() {\n    var self = this;\n    var server_timeout_int = 3;\n    var script_interval_count = 0;\n    load_values()\n\n    function reset_intervals() {\n      console.log('fdfd');\n      script_interval_count = 0;\n      setTimeout(() => {\n        load_values()\n      }, 30000);\n    }\n\n    function load_values() {\n      self.loadCoin();\n      // setInterval(() => {\n      //   // script_interval_count += 1\n      //   // if (script_interval_count <= server_timeout_int-1) {\n      //     self.loadCoin();\n      //     self.loadTransactionLogs();\n      //   // }else reset_intervals()\n      // }, 5000);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.actions {\n  display:flex;\n  justify-content:space-between;\n  align-items:flex-start;\n}\n.section.full.bg-primary {\n  background-color: #f5f5f5 !important;\n}\n.wallet-footer{\n    border-top: none;\n    padding-top: 0px;\n}\n.balance.p-3 {\n    padding: 1rem !important;\n}\n.card {\n  box-shadow: none;\n  background: none;\n  background-color: none;\n}\n.actions .item .icon-wrapper {\n  background: #6236FF;\n  width: 48px;\n  height: 48px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 10px;\n  color: #fff;\n  font-size: 24px;\n  margin-bottom: 5px;\n}\n.actions .item strong {\n    display: block;\n    color: #27173E;\n    font-weight: 500;\n    font-size: 11px;\n    line-height: 1.2em;\n}\n</style>"]}]}