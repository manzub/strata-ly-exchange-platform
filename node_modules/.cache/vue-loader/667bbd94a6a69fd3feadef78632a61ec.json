{"remainingRequest":"/Users/mac/Sites/VUE/exchangeapp-version-control/v1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Sites/VUE/exchangeapp-version-control/v1/src/views/Settings.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v1/src/views/Settings.vue","mtime":1622295484210},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v1/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwppbXBvcnQgYXBpIGZyb20gJy4uL2FwaScKaW1wb3J0IEFwcEJvdHRvbU1lbnUgZnJvbSAnLi4vY29tcG9uZW50cy9BcHBCb3R0b21NZW51LnZ1ZScKaW1wb3J0IEhlYWRlciBmcm9tICcuLi9jb21wb25lbnRzL0hlYWRlci52dWUnCiAgZXhwb3J0IGRlZmF1bHQgewogICAgY29tcG9uZW50czogeyBIZWFkZXIsIEFwcEJvdHRvbU1lbnUgIH0sCiAgICBuYW1lOiAnU2V0dGluZ3MnLAogICAgY29tcHV0ZWQ6IHsKICAgICAgLi4ubWFwR2V0dGVycyhbJ2F1dGgnXSksCiAgICAgIHByb2ZpbGVpbWcoKSB7IHJldHVybiB0aGlzLmF1dGguaW5mby5wcm9maWxlX3Bob3RvX3VybCB9LAogICAgICBwYXlvcHRpb25fYWRkcmVzcygpIHsgcmV0dXJuIHRoaXMuYXV0aC5vcHRpb25zLmFkZHJlc3MgfQogICAgfSwKICAgIG1ldGhvZHM6IHsgCiAgICAgIC4uLm1hcEFjdGlvbnMoWydsb2dvdXQnXSksCiAgICAgIHBheW9wdGlvbihvcHRpb24pIHsKICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5hdXRoLm9wdGlvbnM7CiAgICAgICAgcmV0dXJuIG9wdGlvbiA9PSBvcHRpb25zLm9wdGlvbiA/IHRydWUgOiBmYWxzZQogICAgICB9LAogICAgICBzZXRPcHRpb24ob3B0aW9uKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2cob3B0aW9uKTsKICAgICAgICBhcGkuc2V0UGF5bWVudFNldHRpbmdzKHRoaXMuYXV0aC5pbmZvLHsgb3B0aW9uLCBhZGRyZXNzOm51bGwgfSkKICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICByZXR1cm4gYXBpLmdldFBheW1lbnRTZXR0aW5ncyh7d2FsbGV0OnRoaXMuYXV0aC5pbmZvLndhbGxldEFkZHJlc3MsIGVtYWlsOnRoaXMuYXV0aC5pbmZvLmVtYWlsfSkKICAgICAgICB9KS50aGVuKG9wdGlvbnMgPT4gewogICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdvcHRpb25zJywgSlNPTi5zdHJpbmdpZnkob3B0aW9ucy5kYXRhLmRhdGEpKQogICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZgogICAgICAgIH0pCiAgICAgIH0sCiAgICAgIHByb2Nlc3MoZXZlbnQpIHsKICAgICAgICB2YXIgYWRkcmVzcyA9IGV2ZW50LnRhcmdldC52YWx1ZQogICAgICAgIHZhciBvcHRpb24gPSB0aGlzLmF1dGgub3B0aW9ucy5vcHRpb247CiAgICAgICAgdmFyIGNoZWNrMSA9IGFkZHJlc3Muc3BsaXQoJ0AnKVsxXTsKICAgICAgICBpZihjaGVjazEpIHsKICAgICAgICAgIGlmKGNoZWNrMS5zcGxpdCgnLicpWzFdKSB7CiAgICAgICAgICAgIHZhciBjaGVjazIgPSBjaGVjazEuc3BsaXQoJy4nKVsxXTsKICAgICAgICAgICAgWydjb20nXS5pbmNsdWRlcyhjaGVjazIpICYmIGFwaS5zZXRQYXltZW50U2V0dGluZ3ModGhpcy5hdXRoLmluZm8seyBvcHRpb24sIGFkZHJlc3MgfSkKICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsgcmV0dXJuIGFwaS5nZXRQYXltZW50U2V0dGluZ3Moe3dhbGxldDp0aGlzLmF1dGguaW5mby53YWxsZXRBZGRyZXNzLCBlbWFpbDp0aGlzLmF1dGguaW5mby5lbWFpbCB9KSB9KQogICAgICAgICAgICAudGhlbihvcHRpb25zID0+IHsKICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ29wdGlvbnMnLCBKU09OLnN0cmluZ2lmeShvcHRpb25zLmRhdGEuZGF0YSkpCiAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZgogICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICAgIH1lbHNlIGNvbnNvbGUubG9nKCdkc3MnKTsKICAgICAgfQogICAgfQogIH0K"},{"version":3,"sources":["Settings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Settings.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <Header />\n    <div id=\"appCapsule\">\n      <div class=\"section mt-3 text-center\">\n        <div class=\"avatar-section\">\n          <a href=\"#\">\n            <img :src=\"profileimg\" alt=\"avatar\" class=\"imaged w100 rounded\">\n            <span class=\"button\">\n              <ion-icon name=\"camera-outline\"></ion-icon>\n            </span>\n          </a>\n        </div>\n      </div>\n      <div class=\"listview-title mt-1\">Preferences</div>\n        <ul class=\"listview image-listview text inset\">\n          <li>\n            <div class=\"item\">\n              <div class=\"in\">\n                <div>\n                  Payment Alert\n                  <div class=\"text-muted\"> Send Email when new payment received</div>\n                </div>\n                <div class=\"custom-control custom-switch\">\n                  <input type=\"checkbox\" class=\"custom-control-input\" id=\"customSwitch4\" disabled/>\n                  <label class=\"custom-control-label\" for=\"customSwitch4\"></label>\n                </div>\n              </div>\n            </div>\n          </li>\n          <li>\n            <a href=\"#\" class=\"item\">\n              <div class=\"in\">\n                <div>Notification Sound</div>\n                <span class=\"text-primary\">Click</span>\n              </div>\n            </a>\n          </li>\n          <li>\n            <div class=\"item\">\n              <div class=\"in\">\n                <div>Payment Option</div>\n                <div >\n                  <div class=\"text-muted custom-control custom-radio d-inline pr-1\">\n                    <input @change=\"setOption(1)\" :checked=\"payoption(1)\" type=\"radio\" id=\"customRadio1\" name=\"customRadioList\" class=\"custom-control-input\">\n                    <label class=\"custom-control-label\" for=\"customRadio1\">Paypal</label>\n                  </div>\n                  <div class=\"text-muted custom-control custom-radio d-inline\">\n                    <input @change=\"setOption(2)\" :checked=\"payoption(2)\" type=\"radio\" id=\"customRadio2\" name=\"customRadioList\" class=\"custom-control-input\">\n                    <label class=\"custom-control-label\" for=\"customRadio2\">Payooner</label>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </li>\n          <li>\n            <div class=\"item\">\n              <div class=\"in\">\n                <div>\n                  Address\n                </div>  \n                <div class=\"form-group basic\">\n                  <div class=\"input-wrapper\">\n                    <input @keyup=\"process\" placeholder=\"Enter paypal or payooner address\" type=\"email\" class=\"p-1 text-muted form-control\" :value=\"payoption_address\">\n                    <small class=\"text-muted text-info\">press enter when done</small>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </li>\n        </ul>\n        <div class=\"listview-title mt-1\">Security</div>\n        <ul class=\"listview image-listview text mb-2 inset\">\n          <li>\n            <a @click=\"logout\" class=\"item\">\n              <div class=\"in\">\n                <div class=\"text-danger\">Log out of this device</div>\n              </div>\n            </a>\n          </li>\n        </ul>\n    </div>\n    <app-bottom-menu />\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex'\nimport api from '../api'\nimport AppBottomMenu from '../components/AppBottomMenu.vue'\nimport Header from '../components/Header.vue'\n  export default {\n    components: { Header, AppBottomMenu  },\n    name: 'Settings',\n    computed: {\n      ...mapGetters(['auth']),\n      profileimg() { return this.auth.info.profile_photo_url },\n      payoption_address() { return this.auth.options.address }\n    },\n    methods: { \n      ...mapActions(['logout']),\n      payoption(option) {\n        const options = this.auth.options;\n        return option == options.option ? true : false\n      },\n      setOption(option) {\n        // console.log(option);\n        api.setPaymentSettings(this.auth.info,{ option, address:null })\n        .then(response => {\n          return api.getPaymentSettings({wallet:this.auth.info.walletAddress, email:this.auth.info.email})\n        }).then(options => {\n          window.localStorage.setItem('options', JSON.stringify(options.data.data))\n          window.location.href = window.location.href\n        })\n      },\n      process(event) {\n        var address = event.target.value\n        var option = this.auth.options.option;\n        var check1 = address.split('@')[1];\n        if(check1) {\n          if(check1.split('.')[1]) {\n            var check2 = check1.split('.')[1];\n            ['com'].includes(check2) && api.setPaymentSettings(this.auth.info,{ option, address })\n            .then(res => { return api.getPaymentSettings({wallet:this.auth.info.walletAddress, email:this.auth.info.email }) })\n            .then(options => {\n              window.localStorage.setItem('options', JSON.stringify(options.data.data))\n              window.location.href = window.location.href\n            })\n          }\n        }else console.log('dss');\n      }\n    }\n  }\n</script>\n<style scoped>\n.custom-control .custom-control-label {\n  color:#7b7b7b;\n}\n</style>"]}]}