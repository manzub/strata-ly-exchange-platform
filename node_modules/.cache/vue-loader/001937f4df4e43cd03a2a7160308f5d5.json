{"remainingRequest":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Sites/VUE/exchangeapp-version-control/v3/src/components/TransferActionSheet.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/src/components/TransferActionSheet.vue","mtime":1627507614392},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwppbXBvcnQgYXBpIGZyb20gJy4uL2FwaScKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd0cmFuc2ZlckFjdGlvblNoZWV0JywKICBwcm9wczpbJ2NvaW4nXSwKICBkYXRhKCkgeyByZXR1cm4geyBnYXNfZmVlOiAnJDAnLCBpbnZfYWRkOmZhbHNlLCBidXR0b25EaXNhYmxlZDp0cnVlLCByZWNpcGllbnQ6JycsIGFtb3VudDowIH0gfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbJ2F1dGgnXSksCiAgICBhZGRyZXNzX2VuZCgpIHsgcmV0dXJuIHRoaXMuY29pbi5hZGRyZXNzLnN1YnN0cigwLDUpIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGlzRGlzYWJsZWQoKSB7ICh0aGlzLmdhc19mZWUgIT0gMCAmJiB0aGlzLmludl9hZGQ9PWZhbHNlKSA/IHRoaXMuYnV0dG9uRGlzYWJsZWQgPSBmYWxzZSA6IHRoaXMuYnV0dG9uRGlzYWJsZWQgPSB0cnVlIH0sCiAgICB2YWxpZGF0ZUFkZHJlc3MoZXZlbnQpIHsKICAgICAgdGhpcy5pbnZfYWRkID0gdHJ1ZQogICAgICBpZihldmVudC50YXJnZXQudmFsdWUgIT0gJycgJiYgZXZlbnQudGFyZ2V0LnZhbHVlICE9IHRoaXMuY29pbi5hZGRyZXNzKSB7CiAgICAgICAgbmF2aWdhdG9yLm9uTGluZSAmJiBhcGkudmFsaWRhdGVFeGNoYW5nZUFkZHJlc3ModGhpcy5hdXRoLmluZm8sIHRoaXMuY29pbi5uYW1lLCBldmVudC50YXJnZXQudmFsdWUpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBpZihyZXNwb25zZSkgdGhpcy5pbnZfYWRkID0gZmFsc2UKICAgICAgICAgIHRoaXMucmVjaXBpZW50ID0gZXZlbnQudGFyZ2V0LnZhbHVlCiAgICAgICAgICB0aGlzLmlzRGlzYWJsZWQoKQogICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgICBjYWxjRmVlcyhldmVudCkgewogICAgICB0aGlzLmFtb3VudCA9IGV2ZW50LnRhcmdldC52YWx1ZQogICAgICB0aGlzLmdhc19mZWUgPSAwCiAgICAgIHRoaXMuaXNEaXNhYmxlZCgpCiAgICAgIGlmKGV2ZW50LnRhcmdldC52YWx1ZSAhPSAwKSB7CiAgICAgICAgdmFyIG51bSA9IGV2ZW50LnRhcmdldC52YWx1ZSAqIHRoaXMuY29pbi52YWx1ZQogICAgICAgIHZhciBmb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQoJ2VuLVVTJywgewogICAgICAgICAgY3VycmVuY3k6J1VTRCcsCiAgICAgICAgICBzdHlsZTonY3VycmVuY3knCiAgICAgICAgfSkKICAgICAgICB0aGlzLmdhc19mZWUgPSBmb3JtYXR0ZXIuZm9ybWF0KG51bSkKICAgICAgICB0aGlzLmlzRGlzYWJsZWQoKQogICAgICB9CiAgICB9LAogICAgcHJvY2Nlc3NUcmFuc2FjdCgpIHsKICAgICAgdmFyIHRyYW5zYWN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3RyYW5zYWN0Iik7CiAgICAgIGlmKCF0aGlzLmJ1dHRvbkRpc2FibGVkKSB7CiAgICAgICAgY29uc3QgeyByZWNpcGllbnQsIGFtb3VudCB9ID0gdGhpczsKICAgICAgICBpZihuYXZpZ2F0b3Iub25MaW5lKSB7CiAgICAgICAgICBzd2l0Y2ggKHRoaXMuY29pbi5uYW1lKSB7CiAgICAgICAgICAgIGNhc2UgJ0JUQyc6CiAgICAgICAgICAgICAgbGV0IHN0ciA9IE51bWJlcih0aGlzLmNvaW4udmFsdWUpKmFtb3VudDsKICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBzdHIudG9GaXhlZCgyKTsKICAgICAgICAgICAgICBhcGkuc2VuZEJ0Yyh0aGlzLmF1dGguaW5mbyx2YWx1ZSxyZWNpcGllbnQpLnRoZW4ocmVzcG9uc2U9PnsKICAgICAgICAgICAgICAgIHZhciB7IHN0YXR1cyB9ID0gcmVzcG9uc2U7CiAgICAgICAgICAgICAgICBpZihzdGF0dXMgPT0gJ3NpZ25lZCcgfHwgc3RhdHVzID09ICdwZW5kaW5nJykgewogICAgICAgICAgICAgICAgICB2YXIgZG9uZV9hdWRpbyA9IG5ldyBBdWRpbygnYXNzZXRzL2F1ZGlvL2F1ZGlvMS5tcDMnKQogICAgICAgICAgICAgICAgICBkb25lX2F1ZGlvLnBsYXkoKQogICAgICAgICAgICAgICAgICB0cmFuc2FjdEJ0bi5pbm5lckhUTUwgPSBgPGlvbi1pY29uIG5hbWU9ImNoZWNrbWFyay1jaXJjbGUtb3V0bGluZSI+PC9pb24taWNvbj5gCiAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNhY3RCdG5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgdGhpcy5idXR0b25EaXNhYmxlZCA9IHRydWUKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICB0cmFuc2FjdEJ0bi5pbm5lckhUTUwgPSBgPGlvbi1pY29uIG5hbWU9ImNsb3NlLWNpcmNsZS1vdXRsaW5lIj48L2lvbi1pY29uPmA7CiAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNhY3RCdG5EZWZhdWx0KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnU1RSTFknOgogICAgICAgICAgICAgIGFwaS5zZW5kVHJhbnNhY3Rpb24oe3NlbmRlcjp0aGlzLmF1dGguaW5mby53YWxsZXRBZGRyZXNzLCByZWNpcGllbnQsIGFtb3VudDpOdW1iZXIoYW1vdW50KX0pLnRoZW4ocmVzcG9uc2U9PnsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLnN0YXR1cyA9PSAxKSB7CiAgICAgICAgICAgICAgICAgIHZhciBkb25lX2F1ZGlvID0gbmV3IEF1ZGlvKCdhc3NldHMvYXVkaW8vYXVkaW8xLm1wMycpCiAgICAgICAgICAgICAgICAgIGRvbmVfYXVkaW8ucGxheSgpCiAgICAgICAgICAgICAgICAgIHRyYW5zYWN0QnRuLmlubmVySFRNTCA9IGA8aW9uLWljb24gbmFtZT0iY2hlY2ttYXJrLWNpcmNsZS1vdXRsaW5lIj48L2lvbi1pY29uPmAKICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2FjdEJ0bkRlZmF1bHQoKQogICAgICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgICB0cmFuc2FjdEJ0bi5pbm5lckhUTUwgPSBgPGlvbi1pY29uIG5hbWU9ImNsb3NlLWNpcmNsZS1vdXRsaW5lIj48L2lvbi1pY29uPmA7CiAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNhY3RCdG5EZWZhdWx0KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9ZWxzZSB7CiAgICAgICAgICB0cmFuc2FjdEJ0bi5pbm5lckhUTUwgPSBgPGlvbi1pY29uIG5hbWU9ImNsb3NlLWNpcmNsZS1vdXRsaW5lIj48L2lvbi1pY29uPmA7CiAgICAgICAgICB0aGlzLnRyYW5zYWN0QnRuRGVmYXVsdCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHRyYW5zYWN0QnRuRGVmYXVsdCgpIHsKICAgICAgdGhpcy5idXR0b25EaXNhYmxlZCA9IHRydWUKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5idXR0b25EaXNhYmxlZCA9IGZhbHNlCiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3RyYW5zYWN0IikuaW5uZXJIVE1MID0gYFNlbmRgCiAgICAgIH0sIDEwMDApOwogICAgfQogIH0KfQo="},{"version":3,"sources":["TransferActionSheet.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TransferActionSheet.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"transferActionSheet\">\n    <div class=\"modal fade action-sheet\" id=\"sendActionSheet\" tabindex=\"-1\" role=\"dialog\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\">Send Money</h5>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"action-sheet-content\">\n              <form @submit.prevent=\"\">\n                <div class=\"form-group basic\">\n                  <div class=\"input-wrapper\">\n                    <label class=\"label\" for=\"account2\">From</label>\n                    <select disabled class=\"form-control custom-select\" id=\"account2d\">\n                      <option value=\"0\">{{coin.name}} (*** {{ address_end }})</option>\n                    </select>\n                  </div>\n                </div>\n\n                <div class=\"form-group basic\">\n                  <div class=\"input-wrapper\">\n                    <label class=\"label\" for=\"text11\">To</label>\n                    <input @keyup=\"validateAddress\" type=\"text\" class=\"form-control\" id=\"text11\" placeholder=\"Enter Wallet Address\">\n                    <small v-if=\"inv_add\" class=\"text-danger\" >Invalid Wallet Address</small>\n                    <i class=\"clear-input\">\n                      <ion-icon name=\"close-circle\"></ion-icon>\n                    </i>\n                  </div>\n                </div>\n\n                <div class=\"form-group basic\">\n                  <label class=\"label\">Enter Amount</label>\n                  <div class=\"input-group mb-2\">\n                    <div class=\"input-group-prepend\">\n                      <span class=\"input-group-text\" id=\"input14\">{{coin.name}}</span>\n                    </div>\n                    <input @keyup=\"calcFees\" type=\"text\" class=\"form-control form-control-lg\" placeholder=\"0\">\n                  </div>\n                </div>\n                <p>Gas Fee: <strong class=\"text-info\" >={{ gas_fee }}</strong></p>\n                <div class=\"form-group basic\">\n                  <button :disabled=\"buttonDisabled\" type=\"button\" class=\"btn btn-primary btn-block btn-lg\"\n                  @click=\"proccessTransact\"  id=\"transact\">Send</button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport api from '../api'\nexport default {\n  name: 'transferActionSheet',\n  props:['coin'],\n  data() { return { gas_fee: '$0', inv_add:false, buttonDisabled:true, recipient:'', amount:0 } },\n  computed: {\n    ...mapGetters(['auth']),\n    address_end() { return this.coin.address.substr(0,5) }\n  },\n  methods: {\n    isDisabled() { (this.gas_fee != 0 && this.inv_add==false) ? this.buttonDisabled = false : this.buttonDisabled = true },\n    validateAddress(event) {\n      this.inv_add = true\n      if(event.target.value != '' && event.target.value != this.coin.address) {\n        navigator.onLine && api.validateExchangeAddress(this.auth.info, this.coin.name, event.target.value).then((response) => {\n          if(response) this.inv_add = false\n          this.recipient = event.target.value\n          this.isDisabled()\n        })\n      }\n    },\n    calcFees(event) {\n      this.amount = event.target.value\n      this.gas_fee = 0\n      this.isDisabled()\n      if(event.target.value != 0) {\n        var num = event.target.value * this.coin.value\n        var formatter = new Intl.NumberFormat('en-US', {\n          currency:'USD',\n          style:'currency'\n        })\n        this.gas_fee = formatter.format(num)\n        this.isDisabled()\n      }\n    },\n    proccessTransact() {\n      var transactBtn = document.querySelector(\"#transact\");\n      if(!this.buttonDisabled) {\n        const { recipient, amount } = this;\n        if(navigator.onLine) {\n          switch (this.coin.name) {\n            case 'BTC':\n              let str = Number(this.coin.value)*amount;\n              let value = str.toFixed(2);\n              api.sendBtc(this.auth.info,value,recipient).then(response=>{\n                var { status } = response;\n                if(status == 'signed' || status == 'pending') {\n                  var done_audio = new Audio('assets/audio/audio1.mp3')\n                  done_audio.play()\n                  transactBtn.innerHTML = `<ion-icon name=\"checkmark-circle-outline\"></ion-icon>`\n                  this.transactBtnDefault()\n                  this.buttonDisabled = true\n                }else{\n                  transactBtn.innerHTML = `<ion-icon name=\"close-circle-outline\"></ion-icon>`;\n                  this.transactBtnDefault();\n                }\n                // console.log(response);\n              })\n              break;\n            case 'STRLY':\n              api.sendTransaction({sender:this.auth.info.walletAddress, recipient, amount:Number(amount)}).then(response=>{\n                console.log(response);\n                if(response.status == 1) {\n                  var done_audio = new Audio('assets/audio/audio1.mp3')\n                  done_audio.play()\n                  transactBtn.innerHTML = `<ion-icon name=\"checkmark-circle-outline\"></ion-icon>`\n                  this.transactBtnDefault()\n                }else {\n                  transactBtn.innerHTML = `<ion-icon name=\"close-circle-outline\"></ion-icon>`;\n                  this.transactBtnDefault();\n                }\n              })\n              break;\n          }\n        }else {\n          transactBtn.innerHTML = `<ion-icon name=\"close-circle-outline\"></ion-icon>`;\n          this.transactBtnDefault();\n        }\n      }\n    },\n    transactBtnDefault() {\n      this.buttonDisabled = true\n      setTimeout(() => {\n        this.buttonDisabled = false\n        document.querySelector(\"#transact\").innerHTML = `Send`\n      }, 1000);\n    }\n  }\n}\n</script>"]}]}