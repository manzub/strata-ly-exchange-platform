{"remainingRequest":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Sites/VUE/exchangeapp-version-control/v3/src/views/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/src/views/Register.vue","mtime":1626554152881},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JwoKaW1wb3J0IEFsZXJ0IGZyb20gJy4uL2NvbXBvbmVudHMvQWxlcnQudnVlJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdSZWdpc3RlcicsCiAgY29tcG9uZW50czogeyBBbGVydCB9LAogIGRhdGEgKCkgeyByZXR1cm4geyBsb2FkaW5nOiBmYWxzZSwgaW5wdXRzOiB7IGRuYW1lOiAnJywgZW1haWw6ICcnLCBwYXNzd29yZDogJycsIHBhc3N3b3JkMjogJycgfSwgYWxlcnRzOiBbXSB9IH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucyhbJ3JlZ2lzdGVyJywnbG9naW4nXSksCiAgICBwcm9jZXNzT25jbGljaygpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3VibWl0JykuaW5uZXJIVE1MID0gIkxvYWRpbmcuLi4iCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdWJtaXQnKS5pbm5lckhUTUwgPSAiUmVnaXN0ZXIiCiAgICAgIH0sIDIwMDApOwoKICAgICAgY29uc3QgeyBpbnB1dHMgfSA9IHRoaXM7CiAgICAgIGlmKGlucHV0cy5kbmFtZSAhPSAnJyAmJiBpbnB1dHMuZW1haWwgIT0gJycgJiYgaW5wdXRzLnBhc3N3b3JkICE9ICcnKSB7CiAgICAgICAgaWYoaW5wdXRzLnBhc3N3b3JkID09IGlucHV0cy5wYXNzd29yZDIpIHsKICAgICAgICAgIHRoaXMucmVnaXN0ZXIoaW5wdXRzKS50aGVuKChzdGF0dXMpID0+IHsKICAgICAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IGlucHV0czsKICAgICAgICAgICAgcmV0dXJuIHN0YXR1cyA9PSAyMDAgPyB0aGlzLmxvZ2luKHsgZW1haWwsIHBhc3N3b3JkIH0pIDogbnVsbAogICAgICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIGlmKCFyZXNwb25zZSkgdGhpcy5zaG93QWxlcnQoJ0FuIEVycm9yIG9jY3VycmVkJykKICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgnL3NwbGFzaCcpCiAgICAgICAgICAgICAgfSwgMzAwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgfWVsc2UgdGhpcy5zaG93QWxlcnQoJ1Bhc3N3b3JkcyBkb25cJ3QgbWF0Y2gnKQogICAgICB9ZWxzZSB0aGlzLnNob3dBbGVydCgnRmlsbCBhbGwgZmllbGRzJykKICAgIH0sCiAgICBzaG93QWxlcnQobXNnKSB7CiAgICAgIHRoaXMuYWxlcnRzLnB1c2gobXNnKQogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgfQogIH0KfQo="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"register\">\n    <div id=\"appCapsule\">\n      <div class=\"section mt-2 text-center\">\n        <h1>Regsiter</h1>\n        <h4>Fill the form to sign up</h4>\n      </div>\n      <div class=\"section mb-5 p-2\">\n        <alert v-for=\"(err,index) in alerts\" :key=\"index\" :msg=\"err\" />\n        <form @submit.prevent=\"\">\n            <div class=\"card\">\n              <div class=\"card-body\">\n                <div class=\"form-group basic\">\n                  <div class=\"input-wrapper\">\n                    <label class=\"label\" for=\"dname\">Username</label>\n                    <input type=\"text\" v-model=\"inputs.dname\" class=\"form-control\" id=\"dname\" placeholder=\"Your username\">\n                    <i class=\"clear-input\">\n                      <ion-icon name=\"close-circle\"></ion-icon>\n                    </i>\n                  </div>\n                </div>\n\n                <div class=\"form-group basic\">\n                  <div class=\"input-wrapper\">\n                    <label class=\"label\" for=\"email1\">E-mail</label>\n                    <input type=\"email\" v-model=\"inputs.email\" class=\"form-control\" id=\"email1\" placeholder=\"Your e-mail\">\n                    <i class=\"clear-input\">\n                      <ion-icon name=\"close-circle\"></ion-icon>\n                    </i>\n                  </div>\n                </div>\n    \n                <div class=\"form-group basic\">\n                  <div class=\"input-wrapper\">\n                    <label class=\"label\" for=\"password1\">Password</label>\n                    <input type=\"password\" v-model=\"inputs.password\" class=\"form-control\" id=\"password1\" placeholder=\"Your password\">\n                    <i class=\"clear-input\">\n                      <ion-icon name=\"close-circle\"></ion-icon>\n                    </i>\n                  </div>\n                </div>\n    \n                <div class=\"form-group basic\">\n                  <div class=\"input-wrapper\">\n                    <label class=\"label\" for=\"password2\">Password Again</label>\n                    <input type=\"password\" v-model=\"inputs.password2\" class=\"form-control\" id=\"password2\" placeholder=\"Type password again\">\n                    <i class=\"clear-input\">\n                      <ion-icon name=\"close-circle\"></ion-icon>\n                    </i>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"form-links mt-2\">\n              <div>\n                <router-link to=\"/login\">Already have an account?</router-link>\n              </div>\n            </div>\n            <div class=\"form-button-group transparent\">\n              <button id=\"submit\" :disabled=\"loading\" type=\"button\" @click=\"processOnclick\" class=\"btn btn-primary btn-block btn-lg\">Register</button>\n            </div>\n\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\n\nimport Alert from '../components/Alert.vue'\n\nexport default {\n  name: 'Register',\n  components: { Alert },\n  data () { return { loading: false, inputs: { dname: '', email: '', password: '', password2: '' }, alerts: [] } },\n  methods: {\n    ...mapActions(['register','login']),\n    processOnclick() {\n      this.loading = true\n      document.querySelector('#submit').innerHTML = \"Loading...\"\n      setTimeout(() => {\n        document.querySelector('#submit').innerHTML = \"Register\"\n      }, 2000);\n\n      const { inputs } = this;\n      if(inputs.dname != '' && inputs.email != '' && inputs.password != '') {\n        if(inputs.password == inputs.password2) {\n          this.register(inputs).then((status) => {\n            const { email, password } = inputs;\n            return status == 200 ? this.login({ email, password }) : null\n          }).then(response => {\n            if(!response) this.showAlert('An Error occurred')\n            else {\n              setTimeout(() => {\n                this.$router.replace('/splash')\n              }, 3000);\n            }\n          })\n        }else this.showAlert('Passwords don\\'t match')\n      }else this.showAlert('Fill all fields')\n    },\n    showAlert(msg) {\n      this.alerts.push(msg)\n      this.loading = false\n    }\n  }\n}\n</script>"]}]}