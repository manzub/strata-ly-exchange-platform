{"remainingRequest":"/Users/mac/Sites/VUE/exchangeapp-version-control/v2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Sites/VUE/exchangeapp-version-control/v2/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v2/src/views/Home.vue","mtime":1624621637163},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhcGkgZnJvbSAnLi4vYXBpJwppbXBvcnQgQXBwQm90dG9tTWVudSBmcm9tICcuLi9jb21wb25lbnRzL0FwcEJvdHRvbU1lbnUudnVlJwppbXBvcnQgSGVhZGVyIGZyb20gJy4uL2NvbXBvbmVudHMvSGVhZGVyLnZ1ZScKaW1wb3J0IGNvaW5JdGVtTGcgZnJvbSAnLi4vY29tcG9uZW50cy9jb2luSXRlbTEudnVlJzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7IHJldHVybiB7IGNvaW5zOltdLCBjb21iaW5lZF9iYWxhbmNlczpbXSB9IH0sIAogIGNvbXBvbmVudHM6IHsgSGVhZGVyLCBBcHBCb3R0b21NZW51LCBjb2luSXRlbUxnIH0sCiAgbmFtZTogJ0hvbWUnLAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsnYXV0aCddKSwKICAgIGFsbEJhbGFuY2VzKCkgewogICAgICBsZXQgc3RyID0gMAogICAgICB0aGlzLmNvbWJpbmVkX2JhbGFuY2VzLmZvckVhY2goYmFsID0+IHsgc3RyICs9IE51bWJlcihiYWwpIH0pCiAgICAgIHZhciBmb3JtYXR0ZXIgPSBJbnRsLk51bWJlckZvcm1hdCgnZW4tVVMnLHtjdXJyZW5jeTonVVNEJ30pCiAgICAgIHJldHVybiBmb3JtYXR0ZXIuZm9ybWF0KHN0cikKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNlbGVjdENvaW4oY29pbikgewogICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnY29pbicsIEpTT04uc3RyaW5naWZ5KGNvaW4pKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9jb2luJykKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICBhcGkuZmV0Y2hBbGxDb2lucygpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICB2YXIgY29tYmluZWRfYmFsYW5jZXMgPSBbXQogICAgICByZXNwb25zZS5mb3JFYWNoKGNvaW4gPT4gewogICAgICAgIC8vIHZhciB0aGlzX2NvaW4gPSB7Li4uY29pbixyYXRlfQogICAgICAgIGFwaS5jb2luQmFsYW5jZShjb2luLm5hbWUsIHRoaXMuYXV0aC5pbmZvKQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIGxldCBiYWxhbmNlID0gcmVzcG9uc2UuYmFsYW5jZSA/IHJlc3BvbnNlLmJhbGFuY2UgOiByZXNwb25zZS5idGNCYWxhbmNlCiAgICAgICAgICB2YXIgdG9Vc2QgPSBiYWxhbmNlKmNvaW4udmFsdWU7CiAgICAgICAgICBjb21iaW5lZF9iYWxhbmNlcy5wdXNoKHRvVXNkKQogICAgICAgIH0pCiAgICAgIH0pCiAgICAgIHRoaXMuY29pbnMgPSByZXNwb25zZTsKICAgICAgdGhpcy5jb21iaW5lZF9iYWxhbmNlcyA9IGNvbWJpbmVkX2JhbGFuY2VzOwogICAgfSkKICB9Cn0K"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <Header />\n    <div id=\"appCapsule\">\n      <div class=\"section p-2 bg-primary\">\n        <div class=\"container text-center\">\n          <h1 class=\"text-white mb-0\">${{allBalances}}</h1>\n          <h5 class=\"text-muted\">Combined Balances</h5>\n        </div>\n      </div>\n      <div class=\"section mt-4\">\n        <div class=\"section-heading\">\n          <h2 class=\"title\">Top Coins</h2>\n        </div>\n        <div class=\"transactions mb-2\">\n          <coinItemLg @selectCoin=\"selectCoin\" v-for=\"(coin,index) in coins\" :key=\"index\" :coin=\"coin\" />\n        </div>\n      </div>\n    </div>\n    <app-bottom-menu/>\n  </div>\n</template>\n\n<script>\nimport api from '../api'\nimport AppBottomMenu from '../components/AppBottomMenu.vue'\nimport Header from '../components/Header.vue'\nimport coinItemLg from '../components/coinItem1.vue';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  data() { return { coins:[], combined_balances:[] } }, \n  components: { Header, AppBottomMenu, coinItemLg },\n  name: 'Home',\n  computed: {\n    ...mapGetters(['auth']),\n    allBalances() {\n      let str = 0\n      this.combined_balances.forEach(bal => { str += Number(bal) })\n      var formatter = Intl.NumberFormat('en-US',{currency:'USD'})\n      return formatter.format(str)\n    }\n  },\n  methods: {\n    selectCoin(coin) {\n      window.sessionStorage.setItem('coin', JSON.stringify(coin));\n      this.$router.push('/coin')\n    }\n  },\n  created() {\n    api.fetchAllCoins().then(response => {\n      var combined_balances = []\n      response.forEach(coin => {\n        // var this_coin = {...coin,rate}\n        api.coinBalance(coin.name, this.auth.info)\n        .then(response => {\n          let balance = response.balance ? response.balance : response.btcBalance\n          var toUsd = balance*coin.value;\n          combined_balances.push(toUsd)\n        })\n      })\n      this.coins = response;\n      this.combined_balances = combined_balances;\n    })\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>"]}]}