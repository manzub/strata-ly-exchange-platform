{"remainingRequest":"/Users/mac/Sites/VUE/exchangeapp-version-control/v1/node_modules/babel-loader/lib/index.js!/Users/mac/Sites/VUE/exchangeapp-version-control/v1/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mac/Sites/VUE/exchangeapp-version-control/v1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Sites/VUE/exchangeapp-version-control/v1/src/components/ExchangeActionSheet.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v1/src/components/ExchangeActionSheet.vue","mtime":1622745088934},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v1/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCBhcGkgZnJvbSAnLi4vYXBpJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkaXNhYmxlZDogdHJ1ZSwKICAgICAgZXhjaGFuZ2VfYW1vdW50OiAwLAogICAgICBhbW91bnQ6IDEwLAogICAgICBhZGRyZXNzOiAnJwogICAgfTsKICB9LAogIG5hbWU6ICdFeGNoYW5nZUFjdGlvblNoZWV0JywKICBwcm9wczogWydzd2FwJ10sCiAgY29tcHV0ZWQ6IG1hcEdldHRlcnMoWydhdXRoJ10pLAogIG1ldGhvZHM6IHsKICAgIGNvbnZlcnQ6IGZ1bmN0aW9uIGNvbnZlcnQoZXZlbnQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBhbW91bnQgPSBldmVudC50YXJnZXQudmFsdWU7CiAgICAgIGFwaS5jb252ZXJ0U3RyYXRhVG9Vc2QoYW1vdW50IHx8IDApLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuZXhjaGFuZ2VfYW1vdW50ID0gTnVtYmVyKHJlc3BvbnNlKTsKICAgICAgfSk7CiAgICB9LAogICAgdmFsaWRhdGU6IGZ1bmN0aW9uIHZhbGlkYXRlKGV2ZW50KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGFkZHJlc3MgPSBldmVudC50YXJnZXQudmFsdWU7CiAgICAgIGFwaS52YWxpZGF0ZUV4Y2hhZ2VBY3Rpb25BZGRyZXNzKGFkZHJlc3MsIHRoaXMuc3dhcCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UpIF90aGlzMi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBwcm9jZXNzOiBmdW5jdGlvbiBwcm9jZXNzKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGlmICghdGhpcy5kaXNhYmxlZCkgewogICAgICAgIGlmICh0aGlzLmFtb3VudCAhPSAwKSB7CiAgICAgICAgICBpZiAoYXBpLnRvcENvaW5zLmluY2x1ZGVzKHRoaXMuc3dhcCkpIHsKICAgICAgICAgICAgdmFyIGNvaW5JZCA9IGFwaS50b3BDb2lucy5pbmRleE9mKHRoaXMuc3dhcCk7CiAgICAgICAgICAgIHZhciBzdHJseV9kYXRhID0gewogICAgICAgICAgICAgIHNlbmRlcjogdGhpcy5hdXRoLmluZm8ud2FsbGV0QWRkcmVzcywKICAgICAgICAgICAgICBhbW91bnQ6IHRoaXMuYW1vdW50CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHZhciBvYmogPSB7CiAgICAgICAgICAgICAgc3RybHlfZGF0YTogc3RybHlfZGF0YSwKICAgICAgICAgICAgICBleGNoYW5nZV9hbW91bnQ6IHRoaXMuZXhjaGFuZ2VfYW1vdW50LAogICAgICAgICAgICAgIGV4Y2hhbmdlX2FkZHJlc3M6IHRoaXMuYWRkcmVzcwogICAgICAgICAgICB9OwogICAgICAgICAgICBhcGkuY29uZHVjdEV4Y2hhbmdlKGNvaW5JZCwgb2JqKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIGlmIChyZXNwb25zZSA9PSAxKSB7CiAgICAgICAgICAgICAgICAvLyBzaG93IHN1Y2Nlc3MgaWYgcmVzdWx0ID09IDE7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgICAgICB2YXIgZG9uZV9hdWRpbyA9IG5ldyBBdWRpbygnYXNzZXRzL2F1ZGlvL2F1ZGlvMS5tcDMnKTsKICAgICAgICAgICAgICAgIGRvbmVfYXVkaW8ucGxheSgpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3RyYW5zYWN0IikuaW5uZXJIVE1MID0gIjxpb24taWNvbiBuYW1lPVwiY2hlY2ttYXJrLWNpcmNsZS1vdXRsaW5lXCI+PC9pb24taWNvbj4iOwogICAgICAgICAgICAgICAgX3RoaXMzLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczMuZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3RyYW5zYWN0IikuaW5uZXJIVE1MID0gIlNlbmQiOwogICAgICAgICAgICAgICAgfSwgMjAwMCk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN0cmFuc2FjdCIpLmlubmVySFRNTCA9ICI8aW9uLWljb24gbmFtZT1cImNsb3NlLWNpcmNsZS1vdXRsaW5lXCI+PC9pb24taWNvbj4iOwogICAgICAgICAgICAgICAgX3RoaXMzLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczMuZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3RyYW5zYWN0IikuaW5uZXJIVE1MID0gIlNlbmQiOwogICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["ExchangeActionSheet.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"modal fade action-sheet\" id=\"exchangeActionSheet\" tabindex=\"-1\" role=\"dialog\" style=\"display: none;\" aria-hidden=\"true\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\">Exchange</h5>\n            </div>\n            <div class=\"modal-body\">\n                <div class=\"action-sheet-content\">\n                    <form>\n                        <div class=\"row\">\n                            <div class=\"col-6\">\n                                <div class=\"form-group basic\">\n                                    <div class=\"input-wrapper\">\n                                        <label class=\"label\" for=\"currency1\">From</label>\n                                        <select class=\"form-control custom-select\" id=\"currency1\">\n                                            <option value=\"1\">STRLY</option>\n                                        </select>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"col-6\">\n                                <div class=\"form-group basic\">\n                                    <div class=\"input-wrapper\">\n                                        <label class=\"label\" for=\"currency2\">To</label>\n                                        <select class=\"form-control custom-select\" id=\"currency2\">\n                                            <option value=\"1\">{{ swap }}</option>\n                                        </select>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"form-group basic\">\n                            <label class=\"label\">Enter Amount</label>\n                            <div class=\"input-group mb-2\">\n                                <div class=\"input-group-prepend\">\n                                    <span class=\"input-group-text text-muted\" id=\"input1\">STRLY</span>\n                                </div>\n                                <input @keyup=\"convert\" type=\"number\" class=\"form-control form-control-lg\" v-model=\"amount\">\n                            </div>\n                        </div>\n\n                        <div class=\"form-group basic\">\n                            <label class=\"label\">Enter {{ swap }} Address</label>\n                            <div class=\"input-group mb-2\">\n                                <input @keyup=\"validate\" type=\"text\" class=\"form-control form-control-lg\" v-model=\"address\">\n                            </div>\n                        </div>\n\n\n\n                        <div class=\"form-group basic\">\n                            <button id=\"trade\" :disabled=\"disabled\" @click=\"process\" type=\"button\" class=\"btn btn-primary btn-block btn-lg\">Trade</button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport api from '../api'\n  export default {\n    data() { return { disabled: true, exchange_amount: 0, amount: 10, address: '' } },\n    name: 'ExchangeActionSheet',\n    props:['swap'],\n    computed: mapGetters(['auth']),\n    methods: {\n        convert(event) {\n            var amount = event.target.value;\n            api.convertStrataToUsd(amount || 0)\n            .then(response => { this.exchange_amount = Number(response) })\n        },\n        validate(event) {\n            var address = event.target.value;\n            api.validateExchageActionAddress(address, this.swap).then(response => {\n                if(response) this.disabled = false\n            })\n        },\n        process() {\n            if(!this.disabled) {\n                if(this.amount != 0) {\n                    if(api.topCoins.includes(this.swap)) {\n                        let coinId = api.topCoins.indexOf(this.swap);\n                        let strly_data = { sender:this.auth.info.walletAddress, amount:this.amount }\n                        var obj = { strly_data, exchange_amount: this.exchange_amount, exchange_address: this.address }\n                        api.conductExchange(coinId, obj)\n                        .then(response => {\n                            if(response == 1) {\n                                // show success if result == 1;\n                                console.log(response);\n                                var done_audio = new Audio('assets/audio/audio1.mp3')\n                                done_audio.play()\n                                document.querySelector(\"#transact\").innerHTML = `<ion-icon name=\"checkmark-circle-outline\"></ion-icon>`\n                                this.disabled = true\n                                setTimeout(() => {\n                                    this.disabled = false\n                                    document.querySelector(\"#transact\").innerHTML = `Send`\n                                }, 2000);\n                            }else {\n                                document.querySelector(\"#transact\").innerHTML = `<ion-icon name=\"close-circle-outline\"></ion-icon>`\n                                this.disabled = true\n                                setTimeout(() => {\n                                    this.disabled = false\n                                    document.querySelector(\"#transact\").innerHTML = `Send`\n                                }, 1000);\n                            }\n                        })\n                    }\n                }\n            }\n        }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/components"}]}