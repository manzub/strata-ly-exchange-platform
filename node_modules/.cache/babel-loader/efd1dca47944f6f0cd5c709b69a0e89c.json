{"remainingRequest":"/Users/mac/Sites/VUE/exchangeapp-version-control/v2/node_modules/thread-loader/dist/cjs.js!/Users/mac/Sites/VUE/exchangeapp-version-control/v2/node_modules/babel-loader/lib/index.js!/Users/mac/Sites/VUE/exchangeapp-version-control/v2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mac/Sites/VUE/exchangeapp-version-control/v2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Sites/VUE/exchangeapp-version-control/v2/src/components/ExchangeActionSheet.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v2/src/components/ExchangeActionSheet.vue","mtime":1624655905119},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v2/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IGFwaSBmcm9tICcuLi9hcGknOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvaW5zOiBbXSwKICAgICAgZGlzYWJsZWQ6IHRydWUsCiAgICAgIGV4Y2hhbmdlX2Ftb3VudDogMCwKICAgICAgYW1vdW50OiAwLAogICAgICBleGNoYW5nZV90bzogJ3N0cmF0YWx5JywKICAgICAgZXhjaGFuZ2VfZnJvbTogJ2J0YycsCiAgICAgIHRvVXNkOiAwCiAgICB9OwogIH0sCiAgbmFtZTogJ0V4Y2hhbmdlQWN0aW9uU2hlZXQnLAogIHByb3BzOiBbJ3N3YXAnXSwKICBjb21wdXRlZDogbWFwR2V0dGVycyhbJ2F1dGgnXSksCiAgbWV0aG9kczogewogICAgbWF4OiBmdW5jdGlvbiBtYXgoKSB7CiAgICAgIHRoaXMuYW1vdW50ID0gdGhpcy5zd2FwLmJhbGFuY2UgLSB0aGlzLnN3YXAuYmFsYW5jZSAqIDAuMDAyOwogICAgICB0aGlzLmNvbnZlcnQoKTsKICAgIH0sCiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHRvVXNkID0gdGhpcy5hbW91bnQgKiB0aGlzLnN3YXAudmFsdWU7IC8vIGNvbnNvbGUubG9nKHRvVXNkKTsKCiAgICAgIHRoaXMudG9Vc2QgPSB0b1VzZDsKCiAgICAgIHN3aXRjaCAodGhpcy5leGNoYW5nZV90bykgewogICAgICAgIGNhc2UgJ3N0cmF0YWx5JzoKICAgICAgICAgIGFwaS5jb252ZXJ0VXNkVG9TdHJhdGEodG9Vc2QpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIF90aGlzLmV4Y2hhbmdlX2Ftb3VudCA9IHJlc3BvbnNlOwogICAgICAgICAgfSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAnYnRjJzoKICAgICAgICAgIGlmICgiIi5jb25jYXQodGhpcy5hbW91bnQpLnNwbGl0KCcuJylbMF0ubGVuZ3RoID49IDcpIHsKICAgICAgICAgICAgdmFyIGJ0Y192YWx1ZSA9IHRoaXMuY29pbnMuZmluZChmdW5jdGlvbiAoY29pbikgewogICAgICAgICAgICAgIHJldHVybiBjb2luLm5hbWUgPT0gJ0JUQyc7CiAgICAgICAgICAgIH0pLnZhbHVlOwogICAgICAgICAgICB2YXIgc3RyID0gdG9Vc2QgLyBOdW1iZXIoYnRjX3ZhbHVlKTsKICAgICAgICAgICAgdGhpcy5leGNoYW5nZV9hbW91bnQgPSBwYXJzZUludCh0b1VzZCkudG9GaXhlZCgwKTsKICAgICAgICAgIH0KCiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSwKICAgIHNlbGVjdGVkOiBmdW5jdGlvbiBzZWxlY3RlZChldmVudCkgewogICAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7CiAgICAgIHZhciBzdHIgPSBldmVudC50YXJnZXQudmFsdWUgPT0gJ1NUUkxZJyA/ICdzdHJhdGFseScgOiBldmVudC50YXJnZXQudmFsdWU7CiAgICAgIHZhciBzdHIyID0gZXZlbnQudGFyZ2V0LnZhbHVlID09ICdTVFJMWScgPyAnYnRjJyA6ICdzdHJhdGFseSc7CiAgICAgIHRoaXMuZXhjaGFuZ2VfZnJvbSA9IHN0cjIudG9Mb3dlckNhc2UoKTsKICAgICAgdGhpcy5leGNoYW5nZV90byA9IHN0ci50b0xvd2VyQ2FzZSgpOwogICAgfSwKICAgIHByb2Nlc3M6IGZ1bmN0aW9uIHByb2Nlc3MoKSB7CiAgICAgIHRoaXMuY29udmVydCgpOwogICAgICB2YXIgZnJvbV9hbW91bnQgPSB0aGlzLmV4Y2hhbmdlX2Zyb20gPT0gJ3N0cmF0YWx5JyA/IHRoaXMuYW1vdW50IDogdGhpcy50b1VzZDsKICAgICAgYXBpLnN3YXBDb2lucyh0aGlzLmF1dGguaW5mbywgdGhpcy5leGNoYW5nZV9mcm9tLCB0aGlzLmV4Y2hhbmdlX3RvLCBmcm9tX2Ftb3VudCwgdGhpcy5leGNoYW5nZV9hbW91bnQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIHN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1czsKCiAgICAgICAgaWYgKHN0YXR1cyA9PSAnc2lnbmVkJyB8fCBzdGF0dXMgPT0gJ3BlbmRpbmcnKSB7CiAgICAgICAgICB2YXIgZG9uZV9hdWRpbyA9IG5ldyBBdWRpbygnYXNzZXRzL2F1ZGlvL2F1ZGlvMS5tcDMnKTsKICAgICAgICAgIGRvbmVfYXVkaW8ucGxheSgpOwogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3RyYWRlIikuaW5uZXJIVE1MID0gIjxpb24taWNvbiBuYW1lPVwiY2hlY2ttYXJrLWNpcmNsZS1vdXRsaW5lXCI+PC9pb24taWNvbj4iOwogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN0cmFkZSIpLmlubmVySFRNTCA9ICJEb25lIjsKICAgICAgICAgIH0sIDEwMDApOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgYXBpLmZldGNoQWxsQ29pbnMoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBfdGhpczIuY29pbnMgPSByZXNwb25zZTsKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["ExchangeActionSheet.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA,SAAA,UAAA,QAAA,MAAA;AACA,OAAA,GAAA,MAAA,QAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AAAA,WAAA;AAAA,MAAA,KAAA,EAAA,EAAA;AAAA,MAAA,QAAA,EAAA,IAAA;AAAA,MAAA,eAAA,EAAA,CAAA;AAAA,MAAA,MAAA,EAAA,CAAA;AAAA,MAAA,WAAA,EAAA,UAAA;AAAA,MAAA,aAAA,EAAA,KAAA;AAAA,MAAA,KAAA,EAAA;AAAA,KAAA;AAAA,GADA;AAEA,EAAA,IAAA,EAAA,qBAFA;AAGA,EAAA,KAAA,EAAA,CAAA,MAAA,CAHA;AAIA,EAAA,QAAA,EAAA,UAAA,CAAA,CAAA,MAAA,CAAA,CAJA;AAKA,EAAA,OAAA,EAAA;AACA,IAAA,GADA,iBACA;AAAA,WAAA,MAAA,GAAA,KAAA,IAAA,CAAA,OAAA,GAAA,KAAA,IAAA,CAAA,OAAA,GAAA,KAAA;AAAA,WAAA,OAAA;AAAA,KADA;AAEA,IAAA,OAFA,qBAEA;AAAA;;AACA,UAAA,KAAA,GAAA,KAAA,MAAA,GAAA,KAAA,IAAA,CAAA,KAAA,CADA,CAEA;;AACA,WAAA,KAAA,GAAA,KAAA;;AACA,cAAA,KAAA,WAAA;AACA,aAAA,UAAA;AACA,UAAA,GAAA,CAAA,kBAAA,CAAA,KAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,YAAA,KAAA,CAAA,eAAA,GAAA,QAAA;AACA,WAFA;AAGA;;AACA,aAAA,KAAA;AACA,cAAA,UAAA,KAAA,MAAA,EAAA,KAAA,CAAA,GAAA,EAAA,CAAA,EAAA,MAAA,IAAA,CAAA,EAAA;AACA,gBAAA,SAAA,GAAA,KAAA,KAAA,CAAA,IAAA,CAAA,UAAA,IAAA;AAAA,qBAAA,IAAA,CAAA,IAAA,IAAA,KAAA;AAAA,aAAA,EAAA,KAAA;AACA,gBAAA,GAAA,GAAA,KAAA,GAAA,MAAA,CAAA,SAAA,CAAA;AACA,iBAAA,eAAA,GAAA,QAAA,CAAA,KAAA,CAAA,CAAA,OAAA,CAAA,CAAA,CAAA;AACA;;AACA;AAZA;AAcA,KApBA;AAqBA,IAAA,QArBA,oBAqBA,KArBA,EAqBA;AACA,WAAA,QAAA,GAAA,KAAA;AACA,UAAA,GAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA,IAAA,OAAA,GAAA,UAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA;AACA,UAAA,IAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA,IAAA,OAAA,GAAA,KAAA,GAAA,UAAA;AACA,WAAA,aAAA,GAAA,IAAA,CAAA,WAAA,EAAA;AACA,WAAA,WAAA,GAAA,GAAA,CAAA,WAAA,EAAA;AACA,KA3BA;AA4BA,IAAA,OA5BA,qBA4BA;AACA,WAAA,OAAA;AACA,UAAA,WAAA,GAAA,KAAA,aAAA,IAAA,UAAA,GAAA,KAAA,MAAA,GAAA,KAAA,KAAA;AACA,MAAA,GAAA,CAAA,SAAA,CAAA,KAAA,IAAA,CAAA,IAAA,EAAA,KAAA,aAAA,EAAA,KAAA,WAAA,EAAA,WAAA,EAAA,KAAA,eAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,YAAA,MAAA,GAAA,QAAA,CAAA,MAAA;;AACA,YAAA,MAAA,IAAA,QAAA,IAAA,MAAA,IAAA,SAAA,EAAA;AACA,cAAA,UAAA,GAAA,IAAA,KAAA,CAAA,yBAAA,CAAA;AACA,UAAA,UAAA,CAAA,IAAA;AACA,UAAA,QAAA,CAAA,aAAA,CAAA,QAAA,EAAA,SAAA;AACA,UAAA,UAAA,CAAA,YAAA;AACA,YAAA,QAAA,CAAA,aAAA,CAAA,QAAA,EAAA,SAAA;AACA,WAFA,EAEA,IAFA,CAAA;AAGA;AACA,OAXA;AAYA;AA3CA,GALA;AAkDA,EAAA,OAlDA,qBAkDA;AAAA;;AACA,IAAA,GAAA,CAAA,aAAA,GAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AAAA,MAAA,MAAA,CAAA,KAAA,GAAA,QAAA;AAAA,KAAA;AACA;AApDA,CAAA","sourcesContent":["<template>\n  <div class=\"modal fade action-sheet\" id=\"exchangeActionSheet\" tabindex=\"-1\" role=\"dialog\" style=\"display: none;\" aria-hidden=\"true\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\">Swap</h5>\n            </div>\n            <div class=\"modal-body\">\n                <div class=\"action-sheet-content\">\n                    <form>\n                        <div class=\"row\">\n                            <div class=\"col-6\">\n                                <div class=\"form-group basic\">\n                                    <div class=\"input-wrapper\">\n                                        <label class=\"label\" for=\"currency1\">From</label>\n                                        <select class=\"form-control custom-select\" id=\"currency1\">\n                                            <option value=\"1\">{{ swap.name }}</option>\n                                        </select>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"col-6\">\n                                <div class=\"form-group basic\">\n                                    <div class=\"input-wrapper\">\n                                        <label class=\"label\" for=\"currency2\">To</label>\n                                        <select @change=\"selected\" class=\"form-control custom-select\" id=\"currency2\">\n                                            <option>Select a coin</option>\n                                            <option v-for=\"(coin, index) in coins\" :key=\"index\" :value=\"coin.name\">{{coin.name}}</option>\n                                        </select>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"form-group-basic\">\n                            <label class=\"label\">Balance:</label>\n                            <strong>{{swap.balance}}</strong>\n                        </div>\n                        <div class=\"form-group basic\">\n                            <label class=\"label\">Enter Amount</label>\n                            <div class=\"input-group mb-0\">\n                                <div class=\"input-group-prepend\">\n                                    <span class=\"input-group-text text-muted\" id=\"input1\">{{swap.name}}</span>\n                                </div>\n                                <input @keyup=\"convert\" type=\"number\" class=\"form-control form-control-lg\" v-model=\"amount\">\n                                <div class=\"input-group-addon\">\n                                    <span @click=\"max\" class=\"btn btn-primary\">MAX</span>\n                                </div>\n                            </div>\n                            <small v-if=\"swap.name == 'STRLY'\">Minimum 1,000,000 STRLY</small>\n                        </div>\n\n                        <div class=\"form-group basic\">\n                            <button id=\"trade\" :disabled=\"disabled\" @click=\"process\" type=\"button\" class=\"btn btn-primary btn-block btn-lg\">Swap</button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport api from '../api'\n  export default {\n    data() { return { coins:[], disabled: true, exchange_amount: 0, amount: 0, exchange_to: 'strataly', exchange_from: 'btc', toUsd:0 } },\n    name: 'ExchangeActionSheet',\n    props:['swap'],\n    computed: mapGetters(['auth']),\n    methods: {\n        max() { this.amount = this.swap.balance - (this.swap.balance * 0.002);this.convert() },\n        convert() {\n            var toUsd = this.amount*this.swap.value;\n            // console.log(toUsd);\n            this.toUsd = toUsd\n            switch (this.exchange_to) {\n                case 'strataly':\n                    api.convertUsdToStrata(toUsd).then(response => {\n                        this.exchange_amount = response\n                    })\n                    break;\n                case 'btc':\n                    if(`${this.amount}`.split('.')[0].length >= 7) {\n                        var btc_value = this.coins.find(coin => coin.name == 'BTC').value;\n                        var str = toUsd/Number(btc_value)\n                        this.exchange_amount = parseInt(toUsd).toFixed(0)\n                    }\n                    break;\n            }\n        },\n        selected(event) { \n            this.disabled = false;\n            var str = event.target.value == 'STRLY' ? 'strataly' : event.target.value;\n            var str2 = event.target.value == 'STRLY' ? 'btc' : 'strataly';\n            this.exchange_from = str2.toLowerCase()\n            this.exchange_to = str.toLowerCase()\n        },\n        process() {\n            this.convert()\n            var from_amount = this.exchange_from == 'strataly' ? this.amount : this.toUsd;\n            api.swapCoins(this.auth.info, this.exchange_from, this.exchange_to, from_amount, this.exchange_amount)\n            .then(response => { \n                var { status } = response;\n                if(status == 'signed' || status == 'pending') {\n                    var done_audio = new Audio('assets/audio/audio1.mp3')\n                    done_audio.play()\n                    document.querySelector(\"#trade\").innerHTML = `<ion-icon name=\"checkmark-circle-outline\"></ion-icon>`\n                    setTimeout(() => {\n                        document.querySelector(\"#trade\").innerHTML = `Done`\n                    }, 1000);\n                }\n            })\n        }\n    },\n    created() {\n        api.fetchAllCoins().then(response=>{this.coins = response})\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/components"}]}