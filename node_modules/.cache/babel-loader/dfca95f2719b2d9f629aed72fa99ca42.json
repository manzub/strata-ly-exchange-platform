{"remainingRequest":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/node_modules/babel-loader/lib/index.js!/Users/mac/Sites/VUE/exchangeapp-version-control/v3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mac/Sites/VUE/exchangeapp-version-control/v3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Sites/VUE/exchangeapp-version-control/v3/src/components/ExchangeActionSheet.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/src/components/ExchangeActionSheet.vue","mtime":1627506005871},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v3/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL21hYy9TaXRlcy9WVUUvZXhjaGFuZ2VhcHAtdmVyc2lvbi1jb250cm9sL3YzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgYXBpIGZyb20gJy4uL2FwaSc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29pbnM6IFtdLAogICAgICBkaXNhYmxlZDogdHJ1ZSwKICAgICAgZXhjaGFuZ2VfYW1vdW50OiAwLAogICAgICBhbW91bnQ6IDAsCiAgICAgIGV4Y2hhbmdlX3RvOiAnc3RyYXRhbHknLAogICAgICBleGNoYW5nZV9mcm9tOiAnYnRjJywKICAgICAgdG9Vc2Q6IDAKICAgIH07CiAgfSwKICBuYW1lOiAnRXhjaGFuZ2VBY3Rpb25TaGVldCcsCiAgcHJvcHM6IFsnc3dhcCddLAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydhdXRoJ10pKSwge30sIHsKICAgIGlzU3dhcGluZzogZnVuY3Rpb24gaXNTd2FwaW5nKCkgewogICAgICByZXR1cm4gdGhpcy5jb2lucy5pbmNsdWRlcyh0aGlzLnN3YXApOwogICAgfQogIH0pLAogIG1ldGhvZHM6IHsKICAgIG1heDogZnVuY3Rpb24gbWF4KCkgewogICAgICB2YXIgc3RyID0gdGhpcy5zd2FwLmJhbGFuY2UgLSB0aGlzLnN3YXAuYmFsYW5jZSAqIDAuMDAyOwogICAgICB0aGlzLmFtb3VudCA9IHN0ci50b0ZpeGVkKDgpOwogICAgICB0aGlzLmNvbnZlcnQoKTsKICAgIH0sCiAgICBjb252ZXJ0OiBmdW5jdGlvbiBjb252ZXJ0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHRvVXNkID0gdGhpcy5hbW91bnQgKiB0aGlzLnN3YXAudmFsdWU7CiAgICAgIHRoaXMudG9Vc2QgPSB0b1VzZC50b0ZpeGVkKDIpOwoKICAgICAgc3dpdGNoICh0aGlzLmV4Y2hhbmdlX3RvKSB7CiAgICAgICAgY2FzZSAnc3RyYXRhbHknOgogICAgICAgICAgYXBpLmNvbnZlcnRVc2RUb1N0cmF0YSh0b1VzZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgX3RoaXMuZXhjaGFuZ2VfYW1vdW50ID0gcmVzcG9uc2U7CiAgICAgICAgICB9KTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICdidGMnOgogICAgICAgICAgaWYgKCIiLmNvbmNhdCh0aGlzLmFtb3VudCkuc3BsaXQoJy4nKVswXS5sZW5ndGggPj0gNykgewogICAgICAgICAgICB2YXIgYnRjX3ZhbHVlID0gdGhpcy5jb2lucy5maW5kKGZ1bmN0aW9uIChjb2luKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGNvaW4ubmFtZSA9PSAnQlRDJzsKICAgICAgICAgICAgfSkudmFsdWU7CiAgICAgICAgICAgIHZhciBzdHIgPSB0b1VzZCAvIE51bWJlcihidGNfdmFsdWUpOwogICAgICAgICAgICB0aGlzLmV4Y2hhbmdlX2Ftb3VudCA9IHBhcnNlSW50KHRvVXNkKS50b0ZpeGVkKDApOwogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9LAogICAgc2VsZWN0ZWQ6IGZ1bmN0aW9uIHNlbGVjdGVkKGV2ZW50KSB7CiAgICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgdmFyIHN0ciA9IGV2ZW50LnRhcmdldC52YWx1ZSA9PSAnU1RSTFknID8gJ3N0cmF0YWx5JyA6IGV2ZW50LnRhcmdldC52YWx1ZTsKICAgICAgdmFyIHN0cjIgPSBldmVudC50YXJnZXQudmFsdWUgPT0gJ1NUUkxZJyA/ICdidGMnIDogJ3N0cmF0YWx5JzsKICAgICAgdGhpcy5leGNoYW5nZV9mcm9tID0gc3RyMi50b0xvd2VyQ2FzZSgpOwogICAgICB0aGlzLmV4Y2hhbmdlX3RvID0gc3RyLnRvTG93ZXJDYXNlKCk7CiAgICB9LAogICAgcHJvY2VzczogZnVuY3Rpb24gcHJvY2VzcygpIHsKICAgICAgdGhpcy5jb252ZXJ0KCk7CiAgICAgIHZhciBmcm9tX2Ftb3VudCA9IHRoaXMuZXhjaGFuZ2VfZnJvbSA9PSAnc3RyYXRhbHknID8gdGhpcy5hbW91bnQgOiB0aGlzLnRvVXNkOwogICAgICBhcGkuc3dhcENvaW5zKHRoaXMuYXV0aC5pbmZvLCB0aGlzLmV4Y2hhbmdlX2Zyb20sIHRoaXMuZXhjaGFuZ2VfdG8sIGZyb21fYW1vdW50LCB0aGlzLmV4Y2hhbmdlX2Ftb3VudCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzOwoKICAgICAgICBpZiAoc3RhdHVzID09ICdzaWduZWQnIHx8IHN0YXR1cyA9PSAncGVuZGluZycpIHsKICAgICAgICAgIHZhciBkb25lX2F1ZGlvID0gbmV3IEF1ZGlvKCdhc3NldHMvYXVkaW8vYXVkaW8xLm1wMycpOwogICAgICAgICAgZG9uZV9hdWRpby5wbGF5KCk7CiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdHJhZGUiKS5pbm5lckhUTUwgPSAiPGlvbi1pY29uIG5hbWU9XCJjaGVja21hcmstY2lyY2xlLW91dGxpbmVcIj48L2lvbi1pY29uPiI7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3RyYWRlIikuaW5uZXJIVE1MID0gIkRvbmUiOwogICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICBhcGkuZmV0Y2hBbGxDb2lucygpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIF90aGlzMi5jb2lucyA9IHJlc3BvbnNlOwogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["ExchangeActionSheet.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"modal fade action-sheet\" id=\"exchangeActionSheet\" tabindex=\"-1\" role=\"dialog\" style=\"display: none;\" aria-hidden=\"true\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\">Swap</h5>\n            </div>\n            <div class=\"modal-body\">\n                <div class=\"action-sheet-content\">\n                    <form @submit.prevent=\"\">\n                        <div class=\"row\">\n                            <div class=\"col-6\">\n                                <div class=\"form-group basic\">\n                                    <div class=\"input-wrapper\">\n                                        <label class=\"label\" for=\"currency1\">From</label>\n                                        <select class=\"form-control custom-select\" id=\"currency1\">\n                                            <option value=\"1\">{{ swap.name }}</option>\n                                        </select>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"col-6\">\n                                <div class=\"form-group basic\">\n                                    <div class=\"input-wrapper\">\n                                        <label class=\"label\" for=\"currency2\">To</label>\n                                        <select @change=\"selected\" class=\"form-control custom-select\" id=\"currency2\">\n                                            <option>Select a coin</option>\n                                            <option v-if=\"swap.name == 'BTC'\">STRLY</option>\n                                            <option v-else>BTC</option>\n                                            <!-- <option v-for=\"(coin, index) in coins\" :key=\"index\" :value=\"coin.name\">{{coin.name}}</option> -->\n                                        </select>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"form-group-basic\">\n                            <label class=\"label\">Balance:</label>\n                            <strong>{{swap.balance}}</strong>\n                        </div>\n                        <div class=\"form-group basic\">\n                            <label class=\"label\">Enter Amount</label>\n                            <div class=\"input-group mb-0\">\n                                <div class=\"input-group-prepend\">\n                                    <span class=\"input-group-text text-muted\" id=\"input1\">{{swap.name}}</span>\n                                </div>\n                                <input @keyup=\"convert\" type=\"number\" class=\"form-control form-control-lg\" v-model=\"amount\">\n                                <div class=\"input-group-addon\">\n                                    <span @click=\"max\" class=\"btn btn-primary\">MAX</span>\n                                </div>\n                            </div>\n                            <small v-if=\"swap.name == 'STRLY'\">Minimum 1,000,000 STRLY</small>\n                        </div>\n                        <div class=\"form-group\">\n                            <p class=\"text-muted\">${{toUsd}}</p>\n                        </div>\n                        <div class=\"form-group basic\">\n                            <button id=\"trade\" :disabled=\"disabled\" @click=\"process\" type=\"button\" class=\"btn btn-primary btn-block btn-lg\">Swap</button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport api from '../api'\n  export default {\n    data() { return { coins:[], disabled: true, exchange_amount: 0, amount: 0, exchange_to: 'strataly', exchange_from: 'btc', toUsd:0 } },\n    name: 'ExchangeActionSheet',\n    props:['swap'],\n    computed: { \n        ...mapGetters(['auth']),\n        isSwaping() {\n            return this.coins.includes(this.swap)\n        } \n    },\n    methods: {\n        max() {\n            var str = this.swap.balance - (this.swap.balance * 0.002);\n            this.amount = str.toFixed(8);\n            this.convert() \n        },\n        convert() {\n            var toUsd = this.amount*this.swap.value;\n            this.toUsd = toUsd.toFixed(2)\n            switch (this.exchange_to) {\n                case 'strataly':\n                    api.convertUsdToStrata(toUsd).then(response => {\n                        this.exchange_amount = response\n                    })\n                    break;\n                case 'btc':\n                    if(`${this.amount}`.split('.')[0].length >= 7) {\n                        var btc_value = this.coins.find(coin => coin.name == 'BTC').value;\n                        var str = toUsd/Number(btc_value)\n                        this.exchange_amount = parseInt(toUsd).toFixed(0)\n                    }\n                    break;\n            }\n        },\n        selected(event) { \n            this.disabled = false;\n            var str = event.target.value == 'STRLY' ? 'strataly' : event.target.value;\n            var str2 = event.target.value == 'STRLY' ? 'btc' : 'strataly';\n            this.exchange_from = str2.toLowerCase()\n            this.exchange_to = str.toLowerCase()\n        },\n        process() {\n            this.convert()\n            var from_amount = this.exchange_from == 'strataly' ? this.amount : this.toUsd;\n            api.swapCoins(this.auth.info, this.exchange_from, this.exchange_to, from_amount, this.exchange_amount)\n            .then(response => { \n                var { status } = response;\n                if(status == 'signed' || status == 'pending') {\n                    var done_audio = new Audio('assets/audio/audio1.mp3')\n                    done_audio.play()\n                    document.querySelector(\"#trade\").innerHTML = `<ion-icon name=\"checkmark-circle-outline\"></ion-icon>`\n                    setTimeout(() => {\n                        document.querySelector(\"#trade\").innerHTML = `Done`\n                    }, 1000);\n                }\n            })\n        }\n    },\n    created() {\n        api.fetchAllCoins().then(response=>{this.coins = response})\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/components"}]}