{"remainingRequest":"/Users/mac/Sites/VUE/exchangeapp-version-control/v1/node_modules/babel-loader/lib/index.js!/Users/mac/Sites/VUE/exchangeapp-version-control/v1/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mac/Sites/VUE/exchangeapp-version-control/v1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Sites/VUE/exchangeapp-version-control/v1/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v1/src/views/Home.vue","mtime":1621627665675},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v1/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Sites/VUE/exchangeapp-version-control/v1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWMvU2l0ZXMvVlVFL2V4Y2hhbmdlYXBwLXZlcnNpb24tY29udHJvbC92MS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgYXBpIGZyb20gJy4uL2FwaSc7CmltcG9ydCBBcHBCb3R0b21NZW51IGZyb20gJy4uL2NvbXBvbmVudHMvQXBwQm90dG9tTWVudS52dWUnOwppbXBvcnQgQnV5IGZyb20gJy4uL2NvbXBvbmVudHMvQnV5LnZ1ZSc7CmltcG9ydCBIZWFkZXIgZnJvbSAnLi4vY29tcG9uZW50cy9IZWFkZXIudnVlJzsKaW1wb3J0IFNlbGwgZnJvbSAnLi4vY29tcG9uZW50cy9TZWxsLnZ1ZSc7CmltcG9ydCBTcGxhc2ggZnJvbSAnLi9TcGxhc2gudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdIb21lJywKICBjb21wb25lbnRzOiB7CiAgICBTcGxhc2g6IFNwbGFzaCwKICAgIEhlYWRlcjogSGVhZGVyLAogICAgQXBwQm90dG9tTWVudTogQXBwQm90dG9tTWVudSwKICAgIEJ1eTogQnV5LAogICAgU2VsbDogU2VsbAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRyYW5zYWN0aW9uczogW10sCiAgICAgIHN0cmF0YTogewogICAgICAgIGJhbGFuY2U6IDAsCiAgICAgICAgdG9Vc2Q6IDAKICAgICAgfSwKICAgICAgcG9sbGluZzogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiBtYXBHZXR0ZXJzKFsnaXNMb2dnZWRJbicsICdhdXRoJ10pLAogIG1ldGhvZHM6IHsKICAgIGluaXRWYWx1ZXM6IGZ1bmN0aW9uIGluaXRWYWx1ZXModmFsdWVzKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZWNvcmRzLCB0b1VzZDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmlzTG9nZ2VkSW4pIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlcykgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMudHJhbnNhY3Rpb25zID0gdmFsdWVzLnRyYW5zYWN0aW9uczsKICAgICAgICAgICAgICAgIF90aGlzLnN0cmF0YSA9IHZhbHVlcy5zdHJhdGE7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgcmVjb3JkcyA9IF90aGlzLmF1dGgucmVjb3JkczsKICAgICAgICAgICAgICAgIF90aGlzLnRyYW5zYWN0aW9ucyA9IHJlY29yZHMubG9nczsKICAgICAgICAgICAgICAgIF90aGlzLnN0cmF0YS5iYWxhbmNlID0gcmVjb3Jkcy5iYWxhbmNlID8gcGFyc2VGbG9hdChyZWNvcmRzLmJhbGFuY2UpLnRvRml4ZWQoNCkgOiAnMC4wMDAwJzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIHJldHVybiBhcGkuY29udmVydFN0cmF0YVRvVXNkKHJlY29yZHMuYmFsYW5jZSB8fCAnMCcpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgdG9Vc2QgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMuc3RyYXRhLnRvVXNkID0gcGFyc2VGbG9hdCh0b1VzZCkudG9GaXhlZCg2KTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBmZXRjaEZyb206IGZ1bmN0aW9uIGZldGNoRnJvbSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAodGhpcy5pc0xvZ2dlZEluKSB7CiAgICAgICAgdmFyIHZhbHVlcyA9IHsKICAgICAgICAgIHRyYW5zYWN0aW9uczogbnVsbCwKICAgICAgICAgIHN0cmF0YTogewogICAgICAgICAgICBiYWxhbmNlOiBudWxsLAogICAgICAgICAgICB0b1VzZDogbnVsbAogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgYXBpLmdldFVzZXJCYWxhbmNlcyh0aGlzLmF1dGguaW5mby53YWxsZXRBZGRyZXNzKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAxKSB7CiAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcl9kYXRhJywgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSkpOwogICAgICAgICAgICB2YWx1ZXMudHJhbnNhY3Rpb25zID0gcmVzcG9uc2UuZGF0YS5sb2dzOwogICAgICAgICAgICB2YWx1ZXMuc3RyYXRhLmJhbGFuY2UgPSByZXNwb25zZS5kYXRhLmJhbGFuY2UgPyBwYXJzZUZsb2F0KHJlc3BvbnNlLmRhdGEuYmFsYW5jZSkudG9GaXhlZCg0KSA6ICcwLjAwMDAnOwogICAgICAgICAgICByZXR1cm4gYXBpLmNvbnZlcnRTdHJhdGFUb1VzZChyZXNwb25zZS5kYXRhLmJhbGFuY2UgfHwgJzAnKTsKICAgICAgICAgIH0gZWxzZSByZXR1cm4gMC4wOwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHRvVXNkKSB7CiAgICAgICAgICB2YWx1ZXMuc3RyYXRhLnRvVXNkID0gcGFyc2VGbG9hdCh0b1VzZCkudG9GaXhlZCg2KTsKCiAgICAgICAgICBfdGhpczIuaW5pdFZhbHVlcyh2YWx1ZXMpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcG9sbERhdGE6IGZ1bmN0aW9uIHBvbGxEYXRhKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuaW5pdFZhbHVlcygpOwogICAgICB0aGlzLnBvbGxpbmcgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKG5hdmlnYXRvci5vbkxpbmUpIF90aGlzMy5mZXRjaEZyb20oKTsKICAgICAgfSwgMzAwMCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5wb2xsRGF0YSgpOyAvLyBpZih3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgiIy8iKVsxXSA9PSAiIikgdGhpcy4kcm91dGVyLnJlcGxhY2UoIi8jYnV5IikKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICBjbGVhckludGVydmFsKHRoaXMucG9sbGluZyk7CiAgfQp9Ow=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div v-if=\"isLoggedIn\" class=\"home\">\n    <!-- <Header /> -->\n    <!-- <div id=\"appCapsule\"> -->\n    <div>\n      <div class=\"section full\">\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <ul class=\"nav nav-tabs style1\" role=\"tablist\">\n              <li class=\"nav-item\">\n                <a href=\"#buy\" class=\"nav-link active\" role=\"tab\" data-toggle=\"tab\">Buy</a>\n              </li>\n              <li class=\"nav-item\">\n                <a href=\"#sell\" class=\"nav-link\" role=\"tab\" data-toggle=\"tab\">Sell</a>\n              </li>\n            </ul>\n            <div class=\"tab-content mt-1\">\n              <buy/>\n              <sell/>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <app-bottom-menu />\n  </div>\n  <splash v-else />\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport api from '../api'\nimport AppBottomMenu from '../components/AppBottomMenu.vue'\nimport Buy from '../components/Buy.vue'\nimport Header from '../components/Header.vue'\nimport Sell from '../components/Sell.vue'\nimport Splash from './Splash.vue'\n\n\nexport default {\n  name: 'Home',\n  components: { Splash, Header, AppBottomMenu, Buy, Sell },\n  data() { return { transactions: [], strata: { balance: 0, toUsd: 0 }, polling: null } },\n  computed: mapGetters(['isLoggedIn','auth']),\n  methods: {\n    async initValues(values) {\n      if(this.isLoggedIn) {\n        if(values) {\n          this.transactions = values.transactions\n          this.strata = values.strata\n        }else {\n          const records = this.auth.records\n          this.transactions = records.logs\n          this.strata.balance = records.balance ? parseFloat(records.balance).toFixed(4) : '0.0000'\n          const toUsd = await api.convertStrataToUsd(records.balance || '0')\n          this.strata.toUsd = parseFloat(toUsd).toFixed(6)\n        }\n      }\n    },\n    fetchFrom() {\n      if(this.isLoggedIn) {\n        var values = { transactions:null, strata:{ balance:null, toUsd:null } }\n        api.getUserBalances(this.auth.info.walletAddress).then(response => {\n          if(response.status == 1) {\n            window.localStorage.setItem('user_data', JSON.stringify(response.data))\n            values.transactions = response.data.logs\n            values.strata.balance = response.data.balance ? parseFloat(response.data.balance).toFixed(4) : '0.0000'\n            return api.convertStrataToUsd(response.data.balance || '0')\n          }else return 0.0\n        }).then(toUsd => {\n          values.strata.toUsd = parseFloat(toUsd).toFixed(6)\n          this.initValues(values)\n        })\n      }\n    },\n    pollData() {\n      this.initValues()\n      this.polling = setInterval(() => {\n        if(navigator.onLine) this.fetchFrom()\n      }, 3000);\n    }\n  },\n  created() {\n    this.pollData()\n    // if(window.location.href.split(\"#/\")[1] == \"\") this.$router.replace(\"/#buy\")\n  },\n  beforeDestroy() {\n    clearInterval(this.polling)\n  }\n}\n</script>\n\n<style scoped>\n.wallet-footer{\n    border-top: none;\n    padding-top: 0px;\n}\n.balance.p-3 {\n    padding: 1rem !important;\n}\n.card {\n  background-color: none;\n}\n</style>"],"sourceRoot":"src/views"}]}